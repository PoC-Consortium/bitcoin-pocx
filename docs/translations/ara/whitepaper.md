# Bitcoin-PoCX: إجماع موفر للطاقة لـ Bitcoin Core

**الإصدار**: 2.0 مسودة
**التاريخ**: ديسمبر 2025
**المنظمة**: اتحاد إثبات السعة

---

## الملخص

يوفر إجماع إثبات العمل (PoW) في Bitcoin أماناً قوياً لكنه يستهلك طاقة كبيرة بسبب الحساب المستمر للتجزئة في الوقت الحقيقي. نقدم Bitcoin-PoCX، وهو تفرع من Bitcoin يستبدل إثبات العمل بإثبات السعة (PoC)، حيث يقوم المُعدّنون بحساب مسبق وتخزين مجموعات كبيرة من التجزئات المُخزّنة على القرص أثناء الرسم، ثم يُعدّنون لاحقاً عن طريق إجراء عمليات بحث خفيفة بدلاً من التجزئة المستمرة. من خلال نقل الحساب من مرحلة التعدين إلى مرحلة رسم لمرة واحدة، يقلل Bitcoin-PoCX بشكل جذري من استهلاك الطاقة مع تمكين التعدين على الأجهزة السلعية، وخفض حاجز المشاركة، وتخفيف ضغوط المركزية المتأصلة في إثبات العمل المُهيمن عليه بـ ASIC، كل ذلك مع الحفاظ على افتراضات أمان Bitcoin وسلوكه الاقتصادي.

يقدم تنفيذنا العديد من الابتكارات الرئيسية:
(1) صيغة رسم مُقوّاة تزيل جميع هجمات مقايضة الوقت-الذاكرة المعروفة في أنظمة PoC الحالية، مما يضمن أن قوة التعدين الفعّالة تبقى متناسبة بشكل صارم مع سعة التخزين المُلتزم بها؛
(2) خوارزمية ثني الوقت، التي تحوّل توزيعات المواعيد النهائية من أسية إلى مربع كاي، مما يقلل تباين وقت الكتلة دون تغيير المتوسط؛
(3) آلية تعيين الصياغة المبنية على OP_RETURN التي تُمكّن تعدين المجمعات بدون حفظ؛ و
(4) مقياس الضغط الديناميكي، الذي يزيد صعوبة توليد الرسم بما يتوافق مع جداول التنصيف للحفاظ على هوامش الأمان طويلة المدى مع تحسن الأجهزة.

يحافظ Bitcoin-PoCX على بنية Bitcoin Core من خلال تعديلات طفيفة موسومة بالميزات، مع عزل منطق PoC عن كود الإجماع الحالي. يحافظ النظام على السياسة النقدية لـ Bitcoin من خلال استهداف فاصل كتلة 120 ثانية وتعديل إعانة الكتلة إلى 10 BTC. تُعوّض الإعانة المُخفّضة الزيادة بمقدار خمسة أضعاف في تردد الكتل، مما يُبقي معدل الإصدار طويل المدى متوافقاً مع جدول Bitcoin الأصلي ويحافظ على الحد الأقصى للعرض البالغ ~21 مليون.

---

## 1. المقدمة

### 1.1 الدافع

أثبت إجماع إثبات العمل (PoW) في Bitcoin أمانه على مدى أكثر من عقد، لكن بتكلفة كبيرة: يجب على المُعدّنين إنفاق موارد حسابية باستمرار، مما يؤدي إلى استهلاك عالٍ للطاقة. إلى جانب مخاوف الكفاءة، هناك دافع أوسع: استكشاف آليات إجماع بديلة تحافظ على الأمان مع خفض حاجز المشاركة. يُمكّن PoC أي شخص تقريباً يمتلك أجهزة تخزين سلعية من التعدين بفعالية، مما يقلل ضغوط المركزية التي نراها في تعدين PoW المُهيمن عليه بـ ASIC.

يحقق إثبات السعة (PoC) ذلك من خلال استمداد قوة التعدين من الالتزام بالتخزين بدلاً من الحساب المستمر. يقوم المُعدّنون بحساب مسبق لمجموعات كبيرة من التجزئات المُخزّنة على القرص—الرسومات—خلال مرحلة رسم لمرة واحدة. يتكون التعدين بعد ذلك من عمليات بحث خفيفة، مما يقلل بشكل جذري من استخدام الطاقة مع الحفاظ على افتراضات أمان الإجماع القائم على الموارد.

### 1.2 التكامل مع Bitcoin Core

يدمج Bitcoin-PoCX إجماع PoC في Bitcoin Core بدلاً من إنشاء سلسلة كتل جديدة. يستفيد هذا النهج من الأمان المُثبت لـ Bitcoin Core، ومكدس الشبكة الناضج، والأدوات المُعتمدة على نطاق واسع، مع الحفاظ على التعديلات طفيفة وموسومة بالميزات. يُعزل منطق PoC عن كود الإجماع الحالي، مما يضمن بقاء الوظائف الأساسية—التحقق من الكتل، عمليات المحفظة، صيغ المعاملات—دون تغيير إلى حد كبير.

### 1.3 أهداف التصميم

**الأمان**: الحفاظ على متانة مكافئة لـ Bitcoin؛ تتطلب الهجمات سعة تخزين أغلبية.

**الكفاءة**: تقليل الحمل الحسابي المستمر إلى مستويات عمليات القرص.

**إمكانية الوصول**: تمكين التعدين بالأجهزة السلعية، وخفض حواجز الدخول.

**الحد الأدنى من التكامل**: إدخال إجماع PoC مع بصمة تعديل طفيفة.

---

## 2. الخلفية: إثبات السعة

### 2.1 التاريخ

قُدّم إثبات السعة (PoC) من قِبل Burstcoin في عام 2014 كبديل موفر للطاقة لإثبات العمل (PoW). أثبت Burstcoin أن قوة التعدين يمكن أن تُستمد من التخزين المُلتزم به بدلاً من التجزئة المستمرة في الوقت الحقيقي: قام المُعدّنون بحساب مجموعات بيانات كبيرة ("الرسومات") مرة واحدة ثم عدّنوا من خلال قراءة أجزاء صغيرة وثابتة منها.

أثبتت تطبيقات PoC المبكرة جدوى المفهوم لكنها كشفت أيضاً أن صيغة الرسم والبنية التشفيرية حاسمة للأمان. سمحت العديد من مقايضات الوقت-الذاكرة للمهاجمين بالتعدين بفعالية مع تخزين أقل من المشاركين الصادقين. أظهر هذا أن أمان PoC يعتمد على تصميم الرسم—وليس فقط على استخدام التخزين كمورد.

أسس إرث Burstcoin PoC كآلية إجماع عملية ووفر الأساس الذي يبني عليه PoCX.

### 2.2 المفاهيم الأساسية

يعتمد تعدين PoC على ملفات رسم كبيرة مُحسوبة مسبقاً ومُخزّنة على القرص. تحتوي هذه الرسومات على "حساب مُجمّد": يُنفّذ التجزئة المكلفة مرة واحدة أثناء الرسم، ثم يتكون التعدين من قراءات قرص خفيفة وتحقق بسيط. تشمل العناصر الأساسية:

**Nonce:**
الوحدة الأساسية لبيانات الرسم. يحتوي كل nonce على 4096 scoop (إجمالي 256 KiB) مُولّدة عبر Shabal256 من عنوان المُعدّن وفهرس nonce.

**Scoop:**
قطعة 64 بايت داخل nonce. لكل كتلة، تختار الشبكة بشكل حتمي فهرس scoop (0–4095) بناءً على توقيع التوليد للكتلة السابقة. يجب قراءة هذا الـ scoop فقط لكل nonce.

**توقيع التوليد:**
قيمة 256 بت مُشتقة من الكتلة السابقة. يوفر إنتروبيا لاختيار scoop ويمنع المُعدّنين من التنبؤ بفهارس scoop المستقبلية.

**Warp:**
مجموعة هيكلية من 4096 nonces (1 GiB). الـ warps هي الوحدة ذات الصلة لصيغ الرسم المقاومة للضغط.

### 2.3 عملية التعدين وخط أنابيب الجودة

يتكون تعدين PoC من خطوة رسم لمرة واحدة وروتين خفيف لكل كتلة:

**الإعداد لمرة واحدة:**
- توليد الرسم: حساب nonces عبر Shabal256 وكتابتها على القرص.

**التعدين لكل كتلة:**
- اختيار scoop: تحديد فهرس scoop من توقيع التوليد.
- مسح الرسم: قراءة ذلك الـ scoop من جميع nonces في رسومات المُعدّن.

**خط أنابيب الجودة:**
- الجودة الخام: تجزئة كل scoop مع توقيع التوليد باستخدام Shabal256Lite للحصول على قيمة جودة 64 بت (الأقل أفضل).
- الموعد النهائي: تحويل الجودة إلى موعد نهائي باستخدام الهدف الأساسي (معلمة مُعدّلة للصعوبة تضمن وصول الشبكة إلى فاصل الكتلة المُستهدف): `deadline = quality / base_target`
- الموعد النهائي المثني: تطبيق تحويل ثني الوقت لتقليل التباين مع الحفاظ على وقت الكتلة المتوقع.

**صياغة الكتلة:**
المُعدّن ذو أقصر موعد نهائي (مثني) يُصيغ الكتلة التالية بمجرد انقضاء ذلك الوقت.

على عكس PoW، يحدث كل الحساب تقريباً أثناء الرسم؛ التعدين النشط مُقيّد بالقرص بشكل أساسي ومنخفض الطاقة جداً.

### 2.4 الثغرات المعروفة في الأنظمة السابقة

**عيب توزيع POC1:**
أظهرت صيغة POC1 الأصلية لـ Burstcoin تحيزاً هيكلياً: كانت scoops ذات الفهارس المنخفضة أرخص بشكل ملحوظ لإعادة حسابها أثناء التشغيل من scoops ذات الفهارس العالية. قدّم هذا مقايضة وقت-ذاكرة غير موحدة، مما سمح للمهاجمين بتقليل التخزين المطلوب لتلك الـ scoops وكسر افتراض أن جميع البيانات المُحسوبة مسبقاً كانت مكلفة بالتساوي.

**هجوم ضغط XOR (POC2):**
في POC2، يمكن للمهاجم أخذ أي مجموعة من 8192 nonces وتقسيمها إلى كتلتين من 4096 nonces (A وB). بدلاً من تخزين كلتا الكتلتين، يُخزّن المهاجم بنية مُشتقة فقط: `A ⊕ transpose(B)`، حيث النقل يُبدّل فهارس scoop وnonce—scoop S من nonce N في الكتلة B يصبح scoop N من nonce S.

أثناء التعدين، عندما يُحتاج scoop S من nonce N، يُعيد المهاجم بناءه عن طريق:
1. قراءة قيمة XOR المُخزّنة في الموضع (S, N)
2. حساب nonce N من الكتلة A للحصول على scoop S
3. حساب nonce S من الكتلة B للحصول على scoop N المنقول
4. XOR الثلاث قيم لاسترداد scoop الـ 64 بايت الأصلي

يقلل هذا التخزين بنسبة 50%، مع الحاجة إلى حسابين nonce فقط لكل بحث—تكلفة أقل بكثير من العتبة اللازمة لفرض الحساب المسبق الكامل. الهجوم قابل للتطبيق لأن حساب صف (nonce واحد، 4096 scoops) غير مكلف، بينما حساب عمود (scoop واحد عبر 4096 nonces) سيتطلب إعادة توليد جميع nonces. بنية النقل تكشف هذا الخلل.

أظهر هذا الحاجة لصيغة رسم تمنع مثل هذا الدمج المُهيكل وتزيل مقايضة الوقت-الذاكرة الأساسية. يصف القسم 3.3 كيف يُعالج PoCX ويحل هذا الضعف.

### 2.5 الانتقال إلى PoCX

أوضحت قيود أنظمة PoC السابقة أن تعدين التخزين الآمن والعادل واللامركزي يعتمد على هياكل رسم مُهندسة بعناية. يُعالج Bitcoin-PoCX هذه القضايا بصيغة رسم مُقوّاة، وتوزيع مواعيد نهائية مُحسّن، وآليات لتعدين المجمعات اللامركزي—موصوفة في القسم التالي.

---

## 3. صيغة رسم PoCX

### 3.1 بناء Nonce الأساسي

Nonce هو بنية بيانات 256 KiB مُشتقة بشكل حتمي من ثلاثة معلمات: حمولة عنوان 20 بايت، وبذرة 32 بايت، وفهرس nonce 64 بت.

يبدأ البناء بدمج هذه المدخلات وتجزئتها بـ Shabal256 لإنتاج تجزئة أولية. تعمل هذه التجزئة كنقطة بداية لعملية توسيع تكرارية: يُطبّق Shabal256 بشكل متكرر، مع كل خطوة تعتمد على البيانات المُولّدة سابقاً، حتى يُملأ المخزن المؤقت 256 KiB بالكامل. تمثل هذه العملية المتسلسلة العمل الحسابي المُنفّذ أثناء الرسم.

خطوة نشر نهائية تُجزّئ المخزن المؤقت المكتمل وتُجري XOR للنتيجة عبر جميع البايتات. يضمن هذا أن المخزن المؤقت الكامل تم حسابه وأن المُعدّنين لا يمكنهم اختصار الحساب. يُطبّق بعد ذلك تبديل PoC2، الذي يُبدّل النصفين السفلي والعلوي لكل scoop لضمان أن جميع scoops تتطلب جهداً حسابياً متكافئاً.

يتكون nonce النهائي من 4096 scoops من 64 بايت لكل منها ويُشكّل الوحدة الأساسية المُستخدمة في التعدين.

### 3.2 تخطيط الرسم المُحاذى لـ SIMD

لتعظيم الإنتاجية على الأجهزة الحديثة، يُنظّم PoCX بيانات nonce على القرص لتسهيل المعالجة المتجهة. بدلاً من تخزين كل nonce بشكل تسلسلي، يُحاذي PoCX كلمات 4 بايت المقابلة عبر nonces متتالية متعددة بشكل متجاور. يسمح هذا لجلب ذاكرة واحد بتوفير البيانات لجميع مسارات SIMD، مما يُقلل إخفاقات ذاكرة التخزين المؤقت ويُزيل حمل التشتت-التجميع.

```
التخطيط التقليدي:
Nonce0: [W0][W1][W2][W3]...
Nonce1: [W0][W1][W2][W3]...
Nonce2: [W0][W1][W2][W3]...

تخطيط SIMD لـ PoCX:
Word0: [N0][N1][N2]...[N15]
Word1: [N0][N1][N2]...[N15]
Word2: [N0][N1][N2]...[N15]
```

يُفيد هذا التخطيط كلاً من مُعدّني CPU وGPU، مما يُمكّن تقييم scoop عالي الإنتاجية ومتوازي مع الحفاظ على نمط وصول قياسي بسيط للتحقق من الإجماع. يضمن أن التعدين مُقيّد بعرض نطاق التخزين بدلاً من حساب CPU، مما يحافظ على الطبيعة منخفضة الطاقة لإثبات السعة.

### 3.3 هيكل Warp وترميز XOR-Transpose

Warp هو وحدة التخزين الأساسية في PoCX، ويتكون من 4096 nonces (1 GiB). الصيغة غير المضغوطة، المُشار إليها بـ X0، تحتوي nonces الأساسية كما أُنتجت بالضبط من خلال البناء في القسم 3.1.

**ترميز XOR-Transpose (X1)**

لإزالة مقايضات الوقت-الذاكرة الهيكلية الموجودة في أنظمة PoC السابقة، يُشتق PoCX صيغة تعدين مُقوّاة، X1، بتطبيق ترميز XOR-transpose على أزواج من warps X0.

لبناء scoop S من nonce N في warp X1:

1. خذ scoop S من nonce N من warp X0 الأول (الموضع المباشر)
2. خذ scoop N من nonce S من warp X0 الثاني (الموضع المنقول)
3. XOR القيمتين 64 بايت للحصول على scoop X1

خطوة النقل تُبدّل فهارس scoop وnonce. بالمصطلحات المصفوفية—حيث تمثل الصفوف scoops والأعمدة تمثل nonces—تجمع العنصر في الموضع (S, N) في warp الأول مع العنصر في (N, S) في الثاني.

**لماذا يُزيل هذا سطح هجوم الضغط**

يربط XOR-transpose كل scoop بصف كامل وعمود كامل من بيانات X0 الأساسية. استرداد scoop X1 واحد يتطلب بالتالي الوصول إلى بيانات تمتد عبر جميع فهارس 4096 scoop. أي محاولة لحساب البيانات المفقودة ستتطلب إعادة توليد 4096 nonces كاملة، بدلاً من nonce واحد—إزالة هيكل التكلفة غير المتماثل المُستغل بواسطة هجوم XOR لـ POC2 (القسم 2.4).

نتيجة لذلك، يصبح تخزين warp X1 الكامل الاستراتيجية الوحيدة القابلة للتطبيق حسابياً للمُعدّنين، مما يُغلق مقايضة الوقت-الذاكرة المُستغلة في التصاميم السابقة.

### 3.4 تخطيط القرص

تتكون ملفات رسم PoCX من العديد من warps X1 المتتالية. لتعظيم الكفاءة التشغيلية أثناء التعدين، تُنظّم البيانات داخل كل ملف حسب scoop: جميع بيانات scoop 0 من كل warp تُخزّن بشكل تسلسلي، تليها جميع بيانات scoop 1، وهكذا، حتى scoop 4095.

يسمح هذا **الترتيب التسلسلي لـ scoop** للمُعدّنين بقراءة البيانات الكاملة المطلوبة لـ scoop مُختار في وصول قرص تسلسلي واحد، مما يُقلل أوقات البحث ويُعظّم الإنتاجية على أجهزة التخزين السلعية.

مع ترميز XOR-transpose من القسم 3.3، يضمن هذا التخطيط أن الملف **مُقوّى هيكلياً** و**فعّال تشغيلياً**: الترتيب التسلسلي لـ scoop يدعم عمليات القرص المثلى، بينما تخطيطات الذاكرة المُحاذاة لـ SIMD (انظر القسم 3.2) تسمح بتقييم scoop عالي الإنتاجية ومتوازي.

### 3.5 مقياس إثبات العمل (Xn)

يُنفّذ PoCX حساباً مسبقاً قابلاً للتطوير من خلال مفهوم مستويات المقياس، المُشار إليها بـ Xn، للتكيف مع أداء الأجهزة المتطور. صيغة X1 الأساسية تمثل أول بنية warp مُقوّاة بـ XOR-transpose.

كل مستوى مقياس Xn يزيد إثبات العمل المُضمّن في كل warp أسياً نسبة لـ X1: العمل المطلوب عند المستوى Xn هو 2^(n-1) مرات عمل X1. الانتقال من Xn إلى Xn+1 مكافئ تشغيلياً لتطبيق XOR عبر أزواج من warps متجاورة، مما يُضمّن تدريجياً المزيد من إثبات العمل دون تغيير حجم الرسم الأساسي.

يمكن الاستمرار في استخدام ملفات الرسم الموجودة المُنشأة بمستويات مقياس أقل للتعدين، لكنها تُساهم بعمل أقل تناسبياً نحو توليد الكتل، مما يعكس إثبات العمل المُضمّن الأقل. تضمن هذه الآلية أن رسومات PoCX تبقى آمنة ومرنة ومتوازنة اقتصادياً مع مرور الوقت.

### 3.6 وظيفة البذرة

تُمكّن معلمة البذرة رسومات متعددة غير متداخلة لكل عنوان بدون تنسيق يدوي.

**المشكلة (POC2)**: كان على المُعدّنين تتبع نطاقات nonce يدوياً عبر ملفات الرسم لتجنب التداخل. تُهدر nonces المتداخلة التخزين دون زيادة قوة التعدين.

**الحل**: كل زوج `(عنوان، بذرة)` يُعرّف مساحة مفاتيح مستقلة. الرسومات ذات البذور المختلفة لا تتداخل أبداً، بغض النظر عن نطاقات nonce. يمكن للمُعدّنين إنشاء رسومات بحرية دون تنسيق.

---

## 4. إجماع إثبات السعة

يُوسّع PoCX إجماع ناكاموتو لـ Bitcoin بآلية إثبات مُقيّدة بالتخزين. بدلاً من إنفاق الطاقة على التجزئة المتكررة، يُلزم المُعدّنون كميات كبيرة من البيانات المُحسوبة مسبقاً—الرسومات—على القرص. أثناء توليد الكتل، يجب عليهم تحديد جزء صغير وغير متوقع من هذه البيانات وتحويله إلى إثبات. المُعدّن الذي يقدم أفضل إثبات ضمن نافذة الوقت المتوقعة يكسب الحق في صياغة الكتلة التالية.

يصف هذا الفصل كيف يُهيكل PoCX البيانات الوصفية للكتلة، ويُشتق عدم القدرة على التنبؤ، ويُحوّل التخزين الثابت إلى آلية إجماع آمنة ومنخفضة التباين.

### 4.1 هيكل الكتلة

يحتفظ PoCX برأس الكتلة بأسلوب Bitcoin المألوف لكنه يُقدّم حقول إجماع إضافية مطلوبة للتعدين القائم على السعة. تربط هذه الحقول مجتمعة الكتلة برسم المُعدّن المُخزّن، وصعوبة الشبكة، والإنتروبيا التشفيرية التي تُعرّف كل تحدي تعدين.

على مستوى عالٍ، تحتوي كتلة PoCX على: ارتفاع الكتلة، المُسجّل صراحة لتبسيط التحقق السياقي؛ توقيع التوليد، مصدر إنتروبيا جديدة تربط كل كتلة بسابقتها؛ الهدف الأساسي، الذي يمثل صعوبة الشبكة بشكل عكسي (قيم أعلى تقابل تعديناً أسهل)؛ إثبات PoCX، الذي يُحدد رسم المُعدّن، ومستوى الضغط المُستخدم أثناء الرسم، وnonce المُختار، والجودة المُشتقة منه؛ ومفتاح توقيع وتوقيع، يُثبتان التحكم في السعة المُستخدمة لصياغة الكتلة (أو مفتاح صياغة مُعيّن).

يُضمّن الإثبات جميع المعلومات ذات الصلة بالإجماع اللازمة للمُحققين لإعادة حساب التحدي، والتحقق من scoop المُختار، وتأكيد الجودة الناتجة. من خلال التوسيع بدلاً من إعادة تصميم هيكل الكتلة، يبقى PoCX متوافقاً مفاهيمياً مع Bitcoin مع تمكين مصدر مختلف جوهرياً لعمل التعدين.

### 4.2 سلسلة توقيع التوليد

يوفر توقيع التوليد عدم القدرة على التنبؤ المطلوب لتعدين إثبات السعة الآمن. تُشتق كل كتلة توقيع توليدها من توقيع ومُوقّع الكتلة السابقة، مما يضمن أن المُعدّنين لا يمكنهم توقع التحديات المستقبلية أو الحساب المسبق لمناطق رسم مُفيدة:

`generationSignature[n] = SHA256(generationSignature[n-1] || miner_pubkey[n-1])`

ينتج هذا سلسلة من قيم الإنتروبيا القوية تشفيرياً والمُعتمدة على المُعدّن. لأن المفتاح العام للمُعدّن غير معروف حتى نشر الكتلة السابقة، لا يمكن لأي مشارك التنبؤ باختيارات scoop المستقبلية. يمنع هذا الحساب المسبق الانتقائي أو الرسم الاستراتيجي ويضمن أن كل كتلة تُقدّم عمل تعدين جديداً حقيقياً.

### 4.3 عملية الصياغة

يتكون التعدين في PoCX من تحويل البيانات المُخزّنة إلى إثبات مدفوع بالكامل بتوقيع التوليد. رغم أن العملية حتمية، فإن عدم القدرة على التنبؤ بالتوقيع يضمن أن المُعدّنين لا يمكنهم التحضير مسبقاً ويجب عليهم الوصول المتكرر لرسوماتهم المُخزّنة.

**اشتقاق التحدي (اختيار Scoop):** يُجزّئ المُعدّن توقيع التوليد الحالي مع ارتفاع الكتلة للحصول على فهرس scoop في النطاق 0–4095. يُحدد هذا الفهرس أي قطعة 64 بايت من كل nonce مُخزّن تُشارك في الإثبات. لأن توقيع التوليد يعتمد على مُوقّع الكتلة السابقة، يصبح اختيار scoop معروفاً فقط في لحظة نشر الكتلة.

**تقييم الإثبات (حساب الجودة):** لكل nonce في الرسم، يسترد المُعدّن scoop المُختار ويُجزّئه مع توقيع التوليد للحصول على جودة—قيمة 64 بت يُحدد حجمها تنافسية المُعدّن. الجودة الأقل تقابل إثباتاً أفضل.

**تشكيل الموعد النهائي (ثني الوقت):** الموعد النهائي الخام متناسب مع الجودة وعكسياً متناسب مع الهدف الأساسي. في تصاميم PoC القديمة، اتبعت هذه المواعيد النهائية توزيعاً أسياً منحرفاً للغاية، مما أنتج تأخيرات طويلة لم توفر أماناً إضافياً. يُحوّل PoCX الموعد النهائي الخام باستخدام ثني الوقت (القسم 4.4)، مما يقلل التباين ويضمن فواصل كتل متوقعة. بمجرد انقضاء الموعد النهائي المثني، يُصيغ المُعدّن كتلة بتضمين الإثبات وتوقيعه بمفتاح الصياغة الفعّال.

### 4.4 ثني الوقت

ينتج إثبات السعة مواعيد نهائية موزعة أسياً. بعد فترة قصيرة—عادة عشرات الثواني—يكون كل مُعدّن قد حدد بالفعل أفضل إثبات له، وأي وقت انتظار إضافي يُساهم بالتأخير فقط، وليس بالأمان.

يُعيد ثني الوقت تشكيل التوزيع بتطبيق تحويل الجذر التكعيبي:

`deadline_bended = scale × (quality / base_target)^(1/3)`

يحافظ عامل المقياس على وقت الكتلة المتوقع (120 ثانية) مع تقليل التباين بشكل كبير. المواعيد النهائية القصيرة تُمدّد، مما يُحسّن انتشار الكتل وأمان الشبكة. المواعيد النهائية الطويلة تُضغط، مما يمنع القيم الشاذة من تأخير السلسلة.

![توزيعات وقت الكتلة](blocktime_distributions.svg)

يحافظ ثني الوقت على المحتوى المعلوماتي للإثبات الأساسي. لا يُعدّل التنافسية بين المُعدّنين؛ يُعيد فقط تخصيص وقت الانتظار لإنتاج فواصل كتل أكثر سلاسة وقابلية للتنبؤ. يستخدم التنفيذ حساب النقطة الثابتة (صيغة Q42) وأعداد صحيحة 256 بت لضمان نتائج حتمية عبر جميع المنصات.

### 4.5 تعديل الصعوبة

يُنظّم PoCX إنتاج الكتل باستخدام الهدف الأساسي، وهو مقياس صعوبة عكسي. وقت الكتلة المتوقع متناسب مع النسبة `quality / base_target`، لذا زيادة الهدف الأساسي تُسرّع إنشاء الكتل بينما تقليله يُبطئ السلسلة.

تُعدّل الصعوبة كل كتلة باستخدام الوقت المُقاس بين الكتل الأخيرة مقارنة بالفاصل المُستهدف. هذا التعديل المتكرر ضروري لأن سعة التخزين يمكن إضافتها أو إزالتها بسرعة—على عكس قوة التجزئة في Bitcoin، التي تتغير ببطء أكثر.

يتبع التعديل قيدين موجهين: **التدرج**—تغييرات كل كتلة محدودة (±20% كحد أقصى) لتجنب التذبذبات أو التلاعب؛ **التقوية**—لا يمكن للهدف الأساسي تجاوز قيمة التكوين، مما يمنع الشبكة من خفض الصعوبة أبداً تحت افتراضات الأمان الأصلية.

### 4.6 صلاحية الكتلة

الكتلة في PoCX صالحة عندما تُقدّم إثباتاً مُشتقاً من التخزين قابلاً للتحقق ومتسقاً مع حالة الإجماع. يُعيد المُحققون بشكل مستقل حساب اختيار scoop، ويُشتقون الجودة المتوقعة من nonce المُرسل وبيانات الرسم الوصفية، ويُطبّقون تحويل ثني الوقت، ويُؤكدون أن المُعدّن كان مؤهلاً لصياغة الكتلة في الوقت المُعلن.

تحديداً، تتطلب الكتلة الصالحة: انقضاء الموعد النهائي منذ الكتلة الأم؛ تطابق الجودة المُرسلة مع الجودة المحسوبة للإثبات؛ استيفاء مستوى المقياس للحد الأدنى للشبكة؛ تطابق توقيع التوليد مع القيمة المتوقعة؛ تطابق الهدف الأساسي مع القيمة المتوقعة؛ صدور توقيع الكتلة من المُوقّع الفعّال؛ ودفع coinbase لعنوان المُوقّع الفعّال.

---

## 5. تعيينات الصياغة

### 5.1 الدافع

تسمح تعيينات الصياغة لمالكي الرسم بتفويض سلطة صياغة الكتل دون التنازل أبداً عن ملكية رسوماتهم. تُمكّن هذه الآلية تعدين المجمعات وإعدادات التخزين البارد مع الحفاظ على ضمانات أمان PoCX.

في تعدين المجمعات، يمكن لمالكي الرسم تفويض مجمع لصياغة الكتل نيابة عنهم. يُجمّع المجمع الكتل ويوزع المكافآت، لكنه لا يكتسب أبداً حفظاً على الرسومات نفسها. التفويض قابل للإلغاء في أي وقت، ويبقى مالكو الرسم أحراراً في مغادرة المجمع أو تغيير التكوينات دون إعادة الرسم.

تدعم التعيينات أيضاً فصلاً نظيفاً بين المفاتيح الباردة والساخنة. يمكن للمفتاح الخاص الذي يتحكم في الرسم البقاء دون اتصال، بينما مفتاح صياغة منفصل—مُخزّن على جهاز متصل—يُنتج الكتل. بالتالي، اختراق مفتاح الصياغة يُخترق فقط سلطة الصياغة، وليس الملكية. يبقى الرسم آمناً ويمكن إلغاء التعيين، مما يُغلق الثغرة الأمنية فوراً.

توفر تعيينات الصياغة بالتالي مرونة تشغيلية مع الحفاظ على مبدأ أن التحكم في السعة المُخزّنة يجب ألا يُنقل أبداً للوسطاء.

### 5.2 بروتوكول التعيين

تُعلن التعيينات من خلال معاملات OP_RETURN لتجنب النمو غير الضروري لمجموعة UTXO. تُحدد معاملة التعيين عنوان الرسم وعنوان الصياغة المُخوّل لإنتاج الكتل باستخدام سعة ذلك الرسم. تحتوي معاملة الإلغاء فقط على عنوان الرسم. في كلتا الحالتين، يُثبت مالك الرسم التحكم بتوقيع مدخل الإنفاق للمعاملة.

يتقدم كل تعيين عبر سلسلة من الحالات المُحددة جيداً (UNASSIGNED، ASSIGNING، ASSIGNED، REVOKING، REVOKED). بعد تأكيد معاملة التعيين، يدخل النظام مرحلة تفعيل قصيرة. هذا التأخير—30 كتلة، حوالي ساعة واحدة—يضمن الاستقرار أثناء سباقات الكتل ويمنع التبديل السريع العدائي لهويات الصياغة. بمجرد انتهاء فترة التفعيل هذه، يصبح التعيين نشطاً ويبقى كذلك حتى يُصدر مالك الرسم إلغاءً.

تنتقل الإلغاءات إلى فترة تأخير أطول من 720 كتلة، حوالي يوم واحد. خلال هذا الوقت، يبقى عنوان الصياغة السابق نشطاً. يوفر هذا التأخير الأطول استقراراً تشغيلياً للمجمعات، مما يمنع "القفز بين التعيينات" الاستراتيجي ويُعطي مزودي البنية التحتية يقيناً كافياً للعمل بكفاءة. بعد انتهاء تأخير الإلغاء، يكتمل الإلغاء، ويصبح مالك الرسم حراً في تعيين مفتاح صياغة جديد.

تُحافظ حالة التعيين في بنية طبقة الإجماع الموازية لمجموعة UTXO وتدعم بيانات التراجع للتعامل الآمن مع إعادة تنظيم السلسلة.

### 5.3 قواعد التحقق

لكل كتلة، يُحدد المُحققون المُوقّع الفعّال—العنوان الذي يجب أن يُوقّع الكتلة ويستلم مكافأة coinbase. يعتمد هذا المُوقّع فقط على حالة التعيين عند ارتفاع الكتلة.

إذا لم يوجد تعيين أو لم يكتمل التعيين بعد مرحلة التفعيل، يبقى مالك الرسم المُوقّع الفعّال. بمجرد أن يصبح التعيين نشطاً، يجب أن يُوقّع عنوان الصياغة المُعيّن. أثناء الإلغاء، يستمر عنوان الصياغة في التوقيع حتى انتهاء تأخير الإلغاء. عندها فقط تعود السلطة لمالك الرسم.

يُفرض المُحققون أن توقيع الكتلة من المُوقّع الفعّال، وأن coinbase يدفع لنفس العنوان، وأن جميع الانتقالات تتبع تأخيرات التفعيل والإلغاء المُحددة. فقط مالك الرسم يمكنه إنشاء أو إلغاء التعيينات؛ لا يمكن لمفاتيح الصياغة تعديل أو تمديد أذوناتها الخاصة.

تُقدّم تعيينات الصياغة بالتالي تفويضاً مرناً دون إدخال الثقة. تبقى ملكية السعة الأساسية مُثبّتة تشفيرياً لمالك الرسم، بينما يمكن تفويض سلطة الصياغة أو تدويرها أو إلغاؤها حسب تطور الاحتياجات التشغيلية.

---

## 6. المقياس الديناميكي

مع تطور الأجهزة، تنخفض تكلفة حساب الرسومات نسبة لقراءة العمل المُحسوب مسبقاً من القرص. بدون إجراءات مضادة، يمكن للمهاجمين في النهاية توليد الإثباتات أثناء التشغيل أسرع من قراءة المُعدّنين للعمل المُخزّن، مما يُقوّض نموذج أمان إثبات السعة.

للحفاظ على هامش الأمان المقصود، يُنفّذ PoCX جدول مقياس: الحد الأدنى لمستوى المقياس المطلوب للرسومات يزداد مع مرور الوقت. كل مستوى مقياس Xn، كما هو موصوف في القسم 3.5، يُضمّن إثبات عمل أكثر أسياً ضمن بنية الرسم، مما يضمن استمرار المُعدّنين في إلزام موارد تخزين كبيرة حتى مع رخص الحساب.

يتوافق الجدول مع الحوافز الاقتصادية للشبكة، خاصة تنصيفات مكافأة الكتلة. مع انخفاض المكافأة لكل كتلة، يزداد الحد الأدنى للمستوى تدريجياً، مما يحافظ على التوازن بين جهد الرسم وإمكانية التعدين:

| الفترة | السنوات | التنصيفات | الحد الأدنى للمقياس | مُضاعف عمل الرسم |
|--------|---------|-----------|---------------------|------------------|
| الحقبة 0 | 0-4 | 0 | X1 | 2× الخط الأساسي |
| الحقبة 1 | 4-12 | 1-2 | X2 | 4× الخط الأساسي |
| الحقبة 2 | 12-28 | 3-6 | X3 | 8× الخط الأساسي |
| الحقبة 3 | 28-60 | 7-14 | X4 | 16× الخط الأساسي |
| الحقبة 4 | 60-124 | 15-30 | X5 | 32× الخط الأساسي |
| الحقبة 5 | 124+ | 31+ | X6 | 64× الخط الأساسي |

يمكن للمُعدّنين اختيارياً إعداد رسومات تتجاوز الحد الأدنى الحالي بمستوى واحد، مما يسمح لهم بالتخطيط للمستقبل وتجنب الترقيات الفورية عند انتقال الشبكة للحقبة التالية. هذه الخطوة الاختيارية لا تُوفر ميزة إضافية من حيث احتمالية الكتلة—إنها تسمح فقط بانتقال تشغيلي أكثر سلاسة.

الكتل التي تحتوي إثباتات تحت الحد الأدنى لمستوى المقياس لارتفاعها تُعتبر غير صالحة. يتحقق المُحققون من مستوى المقياس المُعلن في الإثبات مقابل متطلبات الشبكة الحالية أثناء التحقق من الإجماع، مما يضمن استيفاء جميع المُعدّنين المشاركين لتوقعات الأمان المتطورة.

---

## 7. بنية التعدين

يفصل PoCX العمليات الحرجة للإجماع عن المهام كثيفة الموارد للتعدين، مما يُمكّن الأمان والكفاءة معاً. تحافظ العقدة على سلسلة الكتل، وتُحقق من الكتل، وتُدير mempool، وتُعرّض واجهة RPC. يتعامل المُعدّنون الخارجيون مع تخزين الرسم، وقراءة scoop، وحساب الجودة، وإدارة المواعيد النهائية. يُبقي هذا الفصل منطق الإجماع بسيطاً وقابلاً للتدقيق مع السماح للمُعدّنين بالتحسين لإنتاجية القرص.

### 7.1 واجهة RPC للتعدين

يتفاعل المُعدّنون مع العقدة من خلال مجموعة صغيرة من استدعاءات RPC. يوفر RPC get_mining_info ارتفاع الكتلة الحالي، وتوقيع التوليد، والهدف الأساسي، والموعد النهائي المُستهدف، والنطاق المقبول لمستويات مقياس الرسم. باستخدام هذه المعلومات، يحسب المُعدّنون nonces المُرشحة. يسمح RPC submit_nonce للمُعدّنين بإرسال حل مُقترح، بما في ذلك معرف الرسم، وفهرس nonce، ومستوى المقياس، وحساب المُعدّن. تُقيّم العقدة الإرسال وتستجيب بالموعد النهائي المحسوب إذا كان الإثبات صالحاً.

### 7.2 مُجدول الصياغة

تحافظ العقدة على مُجدول صياغة، يتتبع الإرسالات الواردة ويحتفظ فقط بأفضل حل لكل ارتفاع كتلة. تُصطف nonces المُرسلة مع حماية مدمجة ضد فيضان الإرسالات أو هجمات رفض الخدمة. ينتظر المُجدول حتى انقضاء الموعد النهائي المحسوب أو وصول حل أفضل، وعند ذلك يُجمّع كتلة، ويُوقّعها باستخدام مفتاح الصياغة الفعّال، ويُنشرها للشبكة.

### 7.3 الصياغة الدفاعية

لمنع هجمات التوقيت أو حوافز التلاعب بالساعة، يُنفّذ PoCX الصياغة الدفاعية. إذا وصلت كتلة منافسة لنفس الارتفاع، يُقارن المُجدول الحل المحلي مع الكتلة الجديدة. إذا كانت الجودة المحلية أفضل، تُصيغ العقدة فوراً بدلاً من انتظار الموعد النهائي الأصلي. يضمن هذا أن المُعدّنين لا يمكنهم كسب ميزة بمجرد تعديل الساعات المحلية؛ الحل الأفضل يسود دائماً، مما يحافظ على العدالة وأمان الشبكة.

---

## 8. تحليل الأمان

### 8.1 نموذج التهديد

يُنمذج PoCX الخصوم بقدرات كبيرة لكن محدودة. قد يحاول المهاجمون إثقال الشبكة بمعاملات غير صالحة، أو كتل مُشوهة، أو إثباتات مُلفقة لاختبار مسارات التحقق. يمكنهم التلاعب بساعاتهم المحلية بحرية وقد يحاولون استغلال الحالات الحافة في سلوك الإجماع مثل معالجة الطوابع الزمنية، وديناميكيات تعديل الصعوبة، أو قواعد إعادة التنظيم. يُتوقع أيضاً أن يبحث الخصوم عن فرص لإعادة كتابة التاريخ من خلال تفرعات سلسلة مُستهدفة.

يفترض النموذج أنه لا طرف واحد يتحكم في أغلبية إجمالي سعة تخزين الشبكة. كما هو الحال مع أي آلية إجماع قائمة على الموارد، يمكن لمهاجم 51% من السعة إعادة تنظيم السلسلة من جانب واحد؛ هذا القيد الأساسي ليس خاصاً بـ PoCX. يفترض PoCX أيضاً أن المهاجمين لا يمكنهم حساب بيانات الرسم أسرع مما يمكن للمُعدّنين الصادقين قراءتها من القرص. يضمن جدول المقياس (القسم 6) أن الفجوة الحسابية المطلوبة للأمان تنمو مع مرور الوقت مع تحسن الأجهزة.

تفحص الأقسام التالية كل فئة هجوم رئيسية بالتفصيل وتصف الإجراءات المضادة المدمجة في PoCX.

### 8.2 هجمات السعة

مثل PoW، يمكن للمهاجم ذي سعة الأغلبية إعادة كتابة التاريخ (هجوم 51%). تحقيق ذلك يتطلب الحصول على بصمة تخزين فيزيائية أكبر من الشبكة الصادقة—مسعى مكلف ومُتطلب لوجستياً. بمجرد الحصول على الأجهزة، تكون تكاليف التشغيل منخفضة، لكن الاستثمار الأولي يخلق حافزاً اقتصادياً قوياً للتصرف بصدق: تقويض السلسلة سيُلحق الضرر بقيمة قاعدة أصول المهاجم نفسه.

يتجنب PoC أيضاً مشكلة لا شيء على المحك المرتبطة بـ PoS. رغم أن المُعدّنين يمكنهم مسح الرسومات ضد تفرعات منافسة متعددة، يستهلك كل مسح وقتاً حقيقياً—عادة من رتبة عشرات الثواني لكل سلسلة. مع فاصل كتلة 120 ثانية، يُحد هذا بطبيعته التعدين متعدد التفرعات، ومحاولة التعدين على العديد من التفرعات في وقت واحد تُدهور الأداء على جميعها. تعدين التفرع ليس بالتالي بدون تكلفة؛ إنه مُقيّد جوهرياً بإنتاجية I/O.

حتى لو سمحت الأجهزة المستقبلية بمسح الرسم شبه الفوري (مثلاً، SSDs عالية السرعة)، سيظل المهاجم يواجه متطلبات موارد فيزيائية كبيرة للتحكم في أغلبية سعة الشبكة، مما يجعل هجوم بأسلوب 51% مكلفاً ومُتحدياً لوجستياً.

أخيراً، هجمات السعة أصعب بكثير للاستئجار من هجمات قوة التجزئة. يمكن الحصول على حساب GPU عند الطلب وإعادة توجيهه لأي سلسلة PoW فوراً. في المقابل، يتطلب PoC أجهزة فيزيائية، ورسماً يستهلك الوقت، وعمليات I/O مستمرة. تجعل هذه القيود الهجمات قصيرة المدى والانتهازية أقل جدوى بكثير.

### 8.3 هجمات التوقيت

يلعب التوقيت دوراً أكثر حرجية في إثبات السعة منه في إثبات العمل. في PoW، تؤثر الطوابع الزمنية بشكل أساسي على تعديل الصعوبة؛ في PoC، تُحدد ما إذا كان الموعد النهائي للمُعدّن قد انقضى وبالتالي ما إذا كانت الكتلة مؤهلة للصياغة. تُقاس المواعيد النهائية نسبة للطابع الزمني للكتلة الأم، لكن ساعة العقدة المحلية تُستخدم للحكم على ما إذا كانت الكتلة الواردة بعيدة جداً في المستقبل. لهذا السبب يُفرض PoCX تحمّل طابع زمني ضيق: لا يمكن للكتل أن تنحرف أكثر من 15 ثانية عن الساعة المحلية للعقدة (مقارنة بنافذة Bitcoin ذات الساعتين). يعمل هذا الحد في كلا الاتجاهين—تُرفض الكتل البعيدة جداً في المستقبل، والعُقد ذات الساعات البطيئة قد ترفض بشكل غير صحيح الكتل الواردة الصالحة.

يجب على العُقد بالتالي مزامنة ساعاتها باستخدام NTP أو مصدر وقت مكافئ. يتجنب PoCX عمداً الاعتماد على مصادر الوقت الداخلية للشبكة لمنع المهاجمين من التلاعب بوقت الشبكة المُدرك. تُراقب العُقد انحرافها الخاص وتُصدر تحذيرات إذا بدأت الساعة المحلية في الانحراف عن الطوابع الزمنية للكتل الأخيرة.

تسريع الساعة—تشغيل ساعة محلية سريعة للصياغة مبكراً قليلاً—يوفر فائدة هامشية فقط. ضمن التحمّل المسموح، تضمن الصياغة الدفاعية (القسم 7.3) أن المُعدّن ذا الحل الأفضل سيُنشر فوراً عند رؤية كتلة مبكرة أدنى. الساعة السريعة تساعد فقط المُعدّن على نشر حل فائز بالفعل ثوانٍ قليلة مبكراً؛ لا يمكنها تحويل إثبات أدنى إلى فائز.

محاولات التلاعب بالصعوبة عبر الطوابع الزمنية مُقيّدة بحد تعديل ±20% لكل كتلة ونافذة متدحرجة 24 كتلة، مما يمنع المُعدّنين من التأثير بشكل ذي معنى على الصعوبة من خلال ألعاب التوقيت قصيرة المدى.

### 8.4 هجمات مقايضة الوقت-الذاكرة

تحاول مقايضات الوقت-الذاكرة تقليل متطلبات التخزين بإعادة حساب أجزاء من الرسم عند الطلب. كانت أنظمة إثبات السعة السابقة عرضة لمثل هذه الهجمات، أبرزها عيب عدم توازن scoop في POC1 وهجوم ضغط XOR-transpose في POC2 (القسم 2.4). استغل كلاهما عدم التماثل في تكلفة إعادة توليد أجزاء معينة من بيانات الرسم، مما سمح للخصوم بتقليل التخزين مع دفع عقوبة حسابية صغيرة فقط. كذلك، تعاني صيغ الرسم البديلة لـ PoC2 من ضعف TMTO مشابه؛ مثال بارز هو Chia، التي يمكن تقليل صيغة رسمها تعسفياً بعامل أكبر من 4.

يُزيل PoCX أسطح الهجوم هذه بالكامل من خلال بناء nonce وصيغة warp الخاصة به. داخل كل nonce، تُجزّئ خطوة النشر النهائية المخزن المؤقت المحسوب بالكامل وتُجري XOR للنتيجة عبر جميع البايتات، مما يضمن أن كل جزء من المخزن المؤقت يعتمد على كل جزء آخر ولا يمكن اختصاره. بعد ذلك، يُبدّل تبديل PoC2 النصفين السفلي والعلوي لكل scoop، مما يُعادل التكلفة الحسابية لاسترداد أي scoop.

يُزيل PoCX كذلك هجوم ضغط XOR-transpose لـ POC2 من خلال اشتقاق صيغته المُقوّاة X1، حيث كل scoop هو XOR لموضع مباشر ومنقول عبر warps مُقترنة؛ يربط هذا كل scoop بصف كامل وعمود كامل من بيانات X0 الأساسية، مما يجعل إعادة البناء تتطلب آلاف nonces الكاملة وبالتالي يُزيل مقايضة الوقت-الذاكرة غير المتماثلة بالكامل.

نتيجة لذلك، تخزين الرسم الكامل هو الاستراتيجية الوحيدة القابلة للتطبيق حسابياً للمُعدّنين. لا اختصار معروف—سواء الرسم الجزئي، أو إعادة التوليد الانتقائية، أو الضغط المُهيكل، أو مناهج الحساب-التخزين الهجينة—يوفر ميزة ذات معنى. يضمن PoCX أن التعدين يبقى مُقيّداً بالتخزين بشكل صارم وأن السعة تعكس الالتزام الفيزيائي الحقيقي.

### 8.5 هجمات التعيين

يستخدم PoCX آلة حالة حتمية لحكم جميع تعيينات الرسم للصائغ. يتقدم كل تعيين عبر حالات مُحددة جيداً—UNASSIGNED → ASSIGNING → ASSIGNED → REVOKING → REVOKED—مع تأخيرات تفعيل وإلغاء مُفروضة. يضمن هذا أن المُعدّن لا يمكنه تغيير التعيينات فوراً للغش في النظام أو تبديل سلطة الصياغة بسرعة.

لأن جميع الانتقالات تتطلب إثباتات تشفيرية—تحديداً، توقيعات من مالك الرسم قابلة للتحقق مقابل UTXO المدخل—يمكن للشبكة الوثوق بشرعية كل تعيين. محاولات تجاوز آلة الحالة أو تزوير التعيينات تُرفض تلقائياً أثناء التحقق من الإجماع. هجمات الإعادة ممنوعة كذلك بحماية إعادة المعاملات بأسلوب Bitcoin القياسي، مما يضمن أن كل إجراء تعيين مُرتبط بشكل فريد بمدخل صالح غير مُنفق.

مزيج حكم آلة الحالة، والتأخيرات المُفروضة، والإثبات التشفيري يجعل الغش القائم على التعيين مستحيلاً عملياً: لا يمكن للمُعدّنين اختطاف التعيينات، أو إجراء إعادة تعيين سريعة أثناء سباقات الكتل، أو التحايل على جداول الإلغاء.

### 8.6 أمان التوقيع

تعمل توقيعات الكتل في PoCX كرابط حرج بين الإثبات ومفتاح الصياغة الفعّال، مما يضمن أن المُعدّنين المُخوّلين فقط يمكنهم إنتاج كتل صالحة.

لمنع هجمات القابلية للتغيير، تُستبعد التوقيعات من حساب تجزئة الكتلة. يُزيل هذا مخاطر التوقيعات القابلة للتغيير التي يمكن أن تُقوّض التحقق أو تسمح بهجمات استبدال الكتل.

للتخفيف من نواقل رفض الخدمة، أحجام التوقيع والمفتاح العام ثابتة—65 بايت للتوقيعات المضغوطة و33 بايت للمفاتيح العامة المضغوطة—مما يمنع المهاجمين من تضخيم الكتل لإثارة استنزاف الموارد أو إبطاء انتشار الشبكة.

---

## 9. التنفيذ

يُنفّذ PoCX كامتداد معياري لـ Bitcoin Core، مع كل الكود ذي الصلة مُحتوى ضمن دليل فرعي مُخصص ومُفعّل من خلال علامة ميزة. يحافظ هذا التصميم على سلامة الكود الأصلي، مما يسمح بتفعيل أو تعطيل PoCX بشكل نظيف، مما يُبسّط الاختبار والتدقيق والبقاء متزامناً مع التغييرات الأصلية.

يمس التكامل فقط النقاط الأساسية الضرورية لدعم إثبات السعة. تم توسيع رأس الكتلة ليشمل حقولاً خاصة بـ PoCX، وتم تكييف التحقق من الإجماع لمعالجة الإثباتات القائمة على التخزين جنباً إلى جنب مع فحوصات Bitcoin التقليدية. نظام الصياغة، المسؤول عن إدارة المواعيد النهائية والجدولة وإرسالات المُعدّنين، مُحتوى بالكامل ضمن وحدات PoCX، بينما تُعرّض امتدادات RPC وظائف التعدين والتعيين للعملاء الخارجيين. للمستخدمين، تم تعزيز واجهة المحفظة لإدارة التعيينات من خلال معاملات OP_RETURN، مما يُمكّن التفاعل السلس مع ميزات الإجماع الجديدة.

جميع العمليات الحرجة للإجماع مُنفّذة بـ C++ حتمي بدون تبعيات خارجية، مما يضمن الاتساق عبر المنصات. يُستخدم Shabal256 للتجزئة، بينما يعتمد ثني الوقت وحساب الجودة على حساب النقطة الثابتة وعمليات 256 بت. تستفيد العمليات التشفيرية مثل التحقق من التوقيع من مكتبة secp256k1 الموجودة في Bitcoin Core.

من خلال عزل وظائف PoCX بهذه الطريقة، يبقى التنفيذ قابلاً للتدقيق والصيانة ومتوافقاً تماماً مع تطوير Bitcoin Core المستمر، مما يُظهر أن آلية إجماع جديدة جوهرياً مُقيّدة بالتخزين يمكن أن تتعايش مع قاعدة كود إثبات العمل الناضجة دون تعطيل سلامتها أو قابليتها للاستخدام.

---

## 10. معلمات الشبكة

يبني PoCX على بنية شبكة Bitcoin التحتية ويُعيد استخدام إطار معلمات السلسلة الخاص به. لدعم التعدين القائم على السعة، ومعالجة التعيينات، ومقياس الرسم، تم توسيع أو تجاوز العديد من المعلمات. يشمل هذا هدف وقت الكتلة، والإعانة الأولية، وجدول التنصيف، وتأخيرات تفعيل وإلغاء التعيينات، بالإضافة إلى معرفات الشبكة مثل البايتات السحرية والمنافذ وبادئات Bech32. تُعدّل بيئات Testnet وregtest هذه المعلمات أكثر لتمكين التكرار السريع واختبار السعة المنخفضة.

تُلخّص الجداول أدناه إعدادات mainnet وtestnet وregtest الناتجة، مُبرزة كيف يُكيّف PoCX معلمات Bitcoin الأساسية لنموذج إجماع مُقيّد بالتخزين.

### 10.1 الشبكة الرئيسية

| المعلمة | القيمة |
|---------|--------|
| البايتات السحرية | `0xa7 0x3c 0x91 0x5e` |
| المنفذ الافتراضي | 8888 |
| HRP Bech32 | `pocx` |
| هدف وقت الكتلة | 120 ثانية |
| الإعانة الأولية | 10 BTC |
| فاصل التنصيف | 1050000 كتلة (~4 سنوات) |
| إجمالي العرض | ~21 مليون BTC |
| تفعيل التعيين | 30 كتلة |
| إلغاء التعيين | 720 كتلة |
| النافذة المتدحرجة | 24 كتلة |

### 10.2 شبكة الاختبار

| المعلمة | القيمة |
|---------|--------|
| البايتات السحرية | `0x6d 0xf2 0x48 0xb3` |
| المنفذ الافتراضي | 18888 |
| HRP Bech32 | `tpocx` |
| هدف وقت الكتلة | 120 ثانية |
| المعلمات الأخرى | نفس الشبكة الرئيسية |

### 10.3 Regtest

| المعلمة | القيمة |
|---------|--------|
| البايتات السحرية | `0xfa 0xbf 0xb5 0xda` |
| المنفذ الافتراضي | 18444 |
| HRP Bech32 | `rpocx` |
| هدف وقت الكتلة | 1 ثانية |
| فاصل التنصيف | 500 كتلة |
| تفعيل التعيين | 4 كتل |
| إلغاء التعيين | 8 كتل |
| وضع السعة المنخفضة | مُفعّل (~4 MB رسومات) |

---

## 11. الأعمال ذات الصلة

على مر السنين، استكشفت العديد من مشاريع سلاسل الكتل والإجماع نماذج تعدين قائمة على التخزين أو هجينة. يبني PoCX على هذا النسب مع تقديم تحسينات في الأمان والكفاءة والتوافق.

**Burstcoin / Signum.** قدّم Burstcoin أول نظام إثبات سعة (PoC) عملي في عام 2014، مُعرّفاً المفاهيم الأساسية مثل الرسومات، وnonces، وscoops، والتعدين القائم على المواعيد النهائية. وسّع خلفاؤه، ولا سيما Signum (Burstcoin سابقاً)، النظام البيئي وتطوروا في النهاية إلى ما يُعرف بإثبات الالتزام (PoC+)، الذي يجمع بين الالتزام بالتخزين ورهان اختياري للتأثير على السعة الفعّالة. يرث PoCX أساس التعدين القائم على التخزين من هذه المشاريع، لكنه يختلف بشكل كبير من خلال صيغة رسم مُقوّاة (ترميز XOR-transpose)، ومقياس ديناميكي لعمل الرسم، وتسوية المواعيد النهائية ("ثني الوقت")، ونظام تعيين مرن—كل ذلك مع التثبيت في قاعدة كود Bitcoin Core بدلاً من الحفاظ على تفرع شبكة مستقل.

**Chia.** تُنفّذ Chia إثبات المساحة والوقت، الذي يجمع بين إثباتات التخزين القائمة على القرص ومكون زمني مُفروض عبر دوال التأخير القابلة للتحقق (VDFs). يُعالج تصميمها مخاوف معينة حول إعادة استخدام الإثبات وتوليد التحدي الجديد، مختلفاً عن PoC الكلاسيكي. لا يتبنى PoCX نموذج الإثبات المُثبّت بالوقت؛ بدلاً من ذلك، يحافظ على إجماع مُقيّد بالتخزين مع فواصل متوقعة، مُحسّن للتوافق طويل المدى مع اقتصاديات UTXO والأدوات المُشتقة من Bitcoin.

**Spacemesh.** يقترح Spacemesh مخطط إثبات المساحة-الوقت (PoST) باستخدام طوبولوجيا شبكة قائمة على DAG (mesh). في هذا النموذج، يجب على المشاركين إثبات دورياً أن التخزين المُخصص يبقى سليماً مع مرور الوقت، بدلاً من الاعتماد على مجموعة بيانات واحدة مُحسوبة مسبقاً. يتحقق PoCX، في المقابل، من الالتزام بالتخزين في وقت الكتلة فقط—مع صيغ رسم مُقوّاة والتحقق الصارم من الإثبات—متجنباً حمل إثباتات التخزين المستمرة مع الحفاظ على الكفاءة واللامركزية.

---

## 12. الخلاصة

يُظهر Bitcoin-PoCX أن الإجماع الموفر للطاقة يمكن دمجه في Bitcoin Core مع الحفاظ على خصائص الأمان والنموذج الاقتصادي. تشمل المساهمات الرئيسية ترميز XOR-transpose (يُجبر المهاجمين على حساب 4096 nonces لكل بحث، مما يُزيل هجوم الضغط)، وخوارزمية ثني الوقت (تحويل التوزيع يقلل تباين وقت الكتلة)، ونظام تعيين الصياغة (التفويض القائم على OP_RETURN يُمكّن تعدين المجمعات بدون حفظ)، والمقياس الديناميكي (المتوافق مع التنصيفات للحفاظ على هوامش الأمان)، والحد الأدنى من التكامل (كود موسوم بالميزات معزول في دليل مُخصص).

النظام حالياً في مرحلة شبكة الاختبار. تُشتق قوة التعدين من سعة التخزين بدلاً من معدل التجزئة، مما يقلل استهلاك الطاقة بأوامر من الحجم مع الحفاظ على النموذج الاقتصادي المُثبت لـ Bitcoin.

---

## المراجع

Bitcoin Core. *مستودع Bitcoin Core.* https://github.com/bitcoin/bitcoin

Burstcoin. *التوثيق التقني لإثبات السعة.* 2014.

NIST. *مسابقة SHA-3: Shabal.* 2008.

Cohen, B., Pietrzak, K. *سلسلة كتل شبكة Chia.* 2019.

Spacemesh. *توثيق بروتوكول Spacemesh.* 2021.

PoC Consortium. *إطار عمل PoCX.* https://github.com/PoC-Consortium/pocx

PoC Consortium. *تكامل Bitcoin-PoCX.* https://github.com/PoC-Consortium/bitcoin-pocx

---

**الترخيص**: MIT
**المنظمة**: اتحاد إثبات السعة
**الحالة**: مرحلة شبكة الاختبار
