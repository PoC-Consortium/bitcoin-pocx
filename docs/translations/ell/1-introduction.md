[Πίνακας Περιεχομένων](index.md) | [Επόμενο: Μορφή Plot →](2-plot-format.md)

---

# Κεφάλαιο 1: Εισαγωγή και Επισκόπηση

## Τι είναι το Bitcoin-PoCX;

Το Bitcoin-PoCX είναι μια ενσωμάτωση στο Bitcoin Core που προσθέτει υποστήριξη συναίνεσης **Proof of Capacity neXt generation (PoCX)**. Διατηρεί την υπάρχουσα αρχιτεκτονική του Bitcoin Core ενώ ενεργοποιεί μια ενεργειακά αποδοτική εναλλακτική εξόρυξης Proof of Capacity ως πλήρη αντικατάσταση του Proof of Work.

**Βασική Διάκριση**: Αυτή είναι μια **νέα αλυσίδα** χωρίς συμβατότητα προς τα πίσω με το Bitcoin PoW. Τα block PoCX είναι ασύμβατα με τους κόμβους PoW από σχεδιασμού.

---

## Ταυτότητα Έργου

- **Οργανισμός**: Proof of Capacity Consortium
- **Όνομα Έργου**: Bitcoin-PoCX
- **Πλήρες Όνομα**: Bitcoin Core με Ενσωμάτωση PoCX
- **Κατάσταση**: Φάση Testnet

---

## Τι είναι το Proof of Capacity;

Το Proof of Capacity (PoC) είναι ένας μηχανισμός συναίνεσης όπου η ισχύς εξόρυξης είναι ανάλογη του **χώρου δίσκου** αντί της υπολογιστικής ισχύος. Οι εξορύκτες προ-δημιουργούν μεγάλα αρχεία plot που περιέχουν κρυπτογραφικά hash, και στη συνέχεια χρησιμοποιούν αυτά τα plots για να βρουν έγκυρες λύσεις block.

**Ενεργειακή Απόδοση**: Τα αρχεία plot δημιουργούνται μία φορά και επαναχρησιμοποιούνται επ' αόριστον. Η εξόρυξη καταναλώνει ελάχιστη ισχύ CPU—κυρίως I/O δίσκου.

**Βελτιώσεις PoCX**:
- Διόρθωση της επίθεσης XOR-transpose compression (50% time-memory tradeoff στο POC2)
- Διάταξη ευθυγραμμισμένη σε 16-nonce για σύγχρονο υλικό
- Κλιμακούμενο proof-of-work στη δημιουργία plot (επίπεδα κλιμάκωσης Xn)
- Εγγενής ενσωμάτωση C++ απευθείας στο Bitcoin Core
- Αλγόριθμος Time Bending για βελτιωμένη κατανομή χρόνου block

---

## Επισκόπηση Αρχιτεκτονικής

### Δομή Αποθετηρίου

```
bitcoin-pocx/
├── bitcoin/             # Bitcoin Core v30.0 + ενσωμάτωση PoCX
│   └── src/pocx/        # Υλοποίηση PoCX
├── pocx/                # Πλαίσιο πυρήνα PoCX (submodule, μόνο ανάγνωση)
└── docs/                # Αυτή η τεκμηρίωση
```

### Φιλοσοφία Ενσωμάτωσης

**Ελάχιστη Επιφάνεια Ενσωμάτωσης**: Οι αλλαγές είναι απομονωμένες στον κατάλογο `/src/pocx/` με καθαρά σημεία επαφής στα επίπεδα επικύρωσης, εξόρυξης και RPC του Bitcoin Core.

**Σημαίες Χαρακτηριστικών**: Όλες οι τροποποιήσεις υπό προστασίες προεπεξεργαστή `#ifdef ENABLE_POCX`. Το Bitcoin Core μεταγλωττίζεται κανονικά όταν απενεργοποιείται.

**Συμβατότητα Upstream**: Διατηρείται τακτικός συγχρονισμός με ενημερώσεις Bitcoin Core μέσω απομονωμένων σημείων ενσωμάτωσης.

**Εγγενής Υλοποίηση C++**: Οι scalar κρυπτογραφικοί αλγόριθμοι (Shabal256, υπολογισμός scoop, συμπίεση) ενσωματώνονται απευθείας στο Bitcoin Core για επικύρωση συναίνεσης.

---

## Βασικά Χαρακτηριστικά

### 1. Πλήρης Αντικατάσταση Συναίνεσης

- **Δομή Block**: Πεδία ειδικά για PoCX αντικαθιστούν το PoW nonce και τα difficulty bits
  - Generation signature (ντετερμινιστική εντροπία εξόρυξης)
  - Base target (αντίστροφο της δυσκολίας)
  - PoCX proof (account ID, seed, nonce)
  - Block signature (αποδεικνύει ιδιοκτησία plot)

- **Επικύρωση**: Pipeline επικύρωσης 5 σταδίων από τον έλεγχο κεφαλίδας έως τη σύνδεση block

- **Προσαρμογή Δυσκολίας**: Προσαρμογή ανά block χρησιμοποιώντας κινητό μέσο όρο πρόσφατων base targets

### 2. Αλγόριθμος Time Bending

**Πρόβλημα**: Οι παραδοσιακοί χρόνοι block PoC ακολουθούν εκθετική κατανομή, οδηγώντας σε μεγάλα blocks όταν κανένας εξορύκτης δεν βρίσκει καλή λύση.

**Λύση**: Μετασχηματισμός κατανομής από εκθετική σε chi-squared χρησιμοποιώντας κυβική ρίζα: `Y = scale × (X^(1/3))`.

**Αποτέλεσμα**: Πολύ καλές λύσεις σφυρηλατούνται αργότερα (το δίκτυο έχει χρόνο να σαρώσει όλους τους δίσκους, μειώνει τα γρήγορα blocks), οι κακές λύσεις βελτιώνονται. Ο μέσος χρόνος block διατηρείται στα 120 δευτερόλεπτα, τα μεγάλα blocks μειώνονται.

**Λεπτομέρειες**: [Κεφάλαιο 3: Συναίνεση και Εξόρυξη](3-consensus-and-mining.md)

### 3. Σύστημα Ανάθεσης Σφυρηλάτησης

**Δυνατότητα**: Οι ιδιοκτήτες plot μπορούν να αναθέσουν δικαιώματα σφυρηλάτησης σε άλλες διευθύνσεις διατηρώντας την ιδιοκτησία του plot.

**Περιπτώσεις Χρήσης**:
- Εξόρυξη σε pool (τα plots αναθέτουν στη διεύθυνση pool)
- Cold storage (κλειδί εξόρυξης ξεχωριστό από την ιδιοκτησία plot)
- Εξόρυξη πολλών μερών (κοινή υποδομή)

**Αρχιτεκτονική**: Σχεδιασμός αποκλειστικά με OP_RETURN—χωρίς ειδικά UTXOs, οι αναθέσεις παρακολουθούνται ξεχωριστά στη βάση δεδομένων chainstate.

**Λεπτομέρειες**: [Κεφάλαιο 4: Αναθέσεις Σφυρηλάτησης](4-forging-assignments.md)

### 4. Αμυντική Σφυρηλάτηση

**Πρόβλημα**: Γρήγορα ρολόγια θα μπορούσαν να παρέχουν πλεονεκτήματα χρονισμού εντός της ανοχής 15 δευτερολέπτων στο μέλλον.

**Λύση**: Όταν λαμβάνεται ένα ανταγωνιστικό block στο ίδιο ύψος, ελέγχεται αυτόματα η τοπική ποιότητα. Εάν είναι καλύτερη, σφυρηλατείται αμέσως.

**Αποτέλεσμα**: Εξαλείφεται το κίνητρο για χειραγώγηση ρολογιού—τα γρήγορα ρολόγια βοηθούν μόνο αν έχετε ήδη την καλύτερη λύση.

**Λεπτομέρειες**: [Κεφάλαιο 5: Ασφάλεια Χρονισμού](5-timing-security.md)

### 5. Δυναμική Κλιμάκωση Συμπίεσης

**Οικονομική Ευθυγράμμιση**: Οι απαιτήσεις επιπέδου κλιμάκωσης αυξάνονται με εκθετικό πρόγραμμα (Έτη 4, 12, 28, 60, 124 = halvings 1, 3, 7, 15, 31).

**Αποτέλεσμα**: Καθώς οι ανταμοιβές block μειώνονται, η δυσκολία δημιουργίας plot αυξάνεται. Διατηρεί περιθώριο ασφαλείας μεταξύ κόστους δημιουργίας plot και κόστους αναζήτησης.

**Αποτρέπει**: Τον πληθωρισμό χωρητικότητας από ταχύτερο υλικό με την πάροδο του χρόνου.

**Λεπτομέρειες**: [Κεφάλαιο 6: Παράμετροι Δικτύου](6-network-parameters.md)

---

## Φιλοσοφία Σχεδιασμού

### Ασφάλεια Κώδικα

- Αμυντικές πρακτικές προγραμματισμού σε όλο τον κώδικα
- Ολοκληρωμένη διαχείριση σφαλμάτων στα μονοπάτια επικύρωσης
- Χωρίς εμφωλευμένα κλειδώματα (πρόληψη deadlock)
- Ατομικές λειτουργίες βάσης δεδομένων (UTXO + αναθέσεις μαζί)

### Αρθρωτή Αρχιτεκτονική

- Καθαρός διαχωρισμός μεταξύ υποδομής Bitcoin Core και συναίνεσης PoCX
- Το πλαίσιο πυρήνα PoCX παρέχει κρυπτογραφικά primitives
- Το Bitcoin Core παρέχει πλαίσιο επικύρωσης, βάση δεδομένων, δικτύωση

### Βελτιστοποιήσεις Επιδόσεων

- Διάταξη επικύρωσης γρήγορης αποτυχίας (φθηνοί έλεγχοι πρώτα)
- Μία λήψη context ανά υποβολή (χωρίς επαναλαμβανόμενες αποκτήσεις cs_main)
- Ατομικές λειτουργίες βάσης δεδομένων για συνέπεια

### Ασφάλεια Reorg

- Πλήρη δεδομένα αναίρεσης για αλλαγές κατάστασης ανάθεσης
- Επαναφορά κατάστασης σφυρηλάτησης σε αλλαγές chain tip
- Ανίχνευση παλαιότητας σε όλα τα σημεία επικύρωσης

---

## Πώς Διαφέρει το PoCX από το Proof of Work

| Πτυχή | Bitcoin (PoW) | Bitcoin-PoCX |
|-------|---------------|--------------|
| **Πόρος Εξόρυξης** | Υπολογιστική ισχύς (hash rate) | Χώρος δίσκου (χωρητικότητα) |
| **Κατανάλωση Ενέργειας** | Υψηλή (συνεχές hashing) | Χαμηλή (μόνο I/O δίσκου) |
| **Διαδικασία Εξόρυξης** | Εύρεση nonce με hash < target | Εύρεση nonce με deadline < elapsed time |
| **Δυσκολία** | Πεδίο `bits`, προσαρμογή κάθε 2016 blocks | Πεδίο `base_target`, προσαρμογή κάθε block |
| **Χρόνος Block** | ~10 λεπτά (εκθετική κατανομή) | 120 δευτερόλεπτα (time-bended, μειωμένη διακύμανση) |
| **Επιδότηση** | 50 BTC → 25 → 12.5 → ... | 10 BTC → 5 → 2.5 → ... |
| **Υλικό** | ASICs (εξειδικευμένο) | HDDs (κοινό υλικό) |
| **Ταυτότητα Εξόρυξης** | Ανώνυμη | Ιδιοκτήτης plot ή εκπρόσωπος |

---

## Απαιτήσεις Συστήματος

### Λειτουργία Κόμβου

**Ίδιες με το Bitcoin Core**:
- **CPU**: Σύγχρονος επεξεργαστής x86_64
- **Μνήμη**: 4-8 GB RAM
- **Αποθήκευση**: Νέα αλυσίδα, αυτή τη στιγμή κενή (μπορεί να αυξηθεί ~4× πιο γρήγορα από το Bitcoin λόγω blocks 2 λεπτών και βάσης δεδομένων αναθέσεων)
- **Δίκτυο**: Σταθερή σύνδεση στο διαδίκτυο
- **Ρολόι**: Συνιστάται συγχρονισμός NTP για βέλτιστη λειτουργία

**Σημείωση**: Τα αρχεία plot ΔΕΝ απαιτούνται για λειτουργία κόμβου.

### Απαιτήσεις Εξόρυξης

**Πρόσθετες απαιτήσεις για εξόρυξη**:
- **Αρχεία Plot**: Προ-δημιουργημένα χρησιμοποιώντας `pocx_plotter` (υλοποίηση αναφοράς)
- **Λογισμικό Εξόρυξης**: `pocx_miner` (υλοποίηση αναφοράς) συνδέεται μέσω RPC
- **Πορτοφόλι**: `bitcoind` ή `bitcoin-qt` με ιδιωτικά κλειδιά για τη διεύθυνση εξόρυξης. Η εξόρυξη σε pool δεν απαιτεί τοπικό πορτοφόλι.

---

## Ξεκινώντας

### 1. Μεταγλώττιση Bitcoin-PoCX

```bash
# Κλωνοποίηση με submodules
git clone --recursive https://github.com/PoC-Consortium/bitcoin-pocx.git
cd bitcoin-pocx/bitcoin

# Μεταγλώττιση με ενεργοποιημένο το PoCX
cmake -B build -DENABLE_POCX=ON
cmake --build build
```

**Λεπτομέρειες**: Δείτε `CLAUDE.md` στη ρίζα του αποθετηρίου

### 2. Εκτέλεση Κόμβου

**Μόνο κόμβος**:
```bash
./build/bin/bitcoind
# ή
./build/bin/bitcoin-qt
```

**Για εξόρυξη** (ενεργοποιεί πρόσβαση RPC για εξωτερικούς εξορύκτες):
```bash
./build/bin/bitcoind -miningserver
# ή
./build/bin/bitcoin-qt -server -miningserver
```

**Λεπτομέρειες**: [Κεφάλαιο 6: Παράμετροι Δικτύου](6-network-parameters.md)

### 3. Δημιουργία Αρχείων Plot

Χρησιμοποιήστε το `pocx_plotter` (υλοποίηση αναφοράς) για να δημιουργήσετε αρχεία plot μορφής PoCX.

**Λεπτομέρειες**: [Κεφάλαιο 2: Μορφή Plot](2-plot-format.md)

### 4. Ρύθμιση Εξόρυξης

Χρησιμοποιήστε το `pocx_miner` (υλοποίηση αναφοράς) για σύνδεση στη διεπαφή RPC του κόμβου σας.

**Λεπτομέρειες**: [Κεφάλαιο 7: Αναφορά RPC](7-rpc-reference.md) και [Κεφάλαιο 8: Οδηγός Πορτοφολιού](8-wallet-guide.md)

---

## Απόδοση

### Μορφή Plot

Βασισμένη στη μορφή POC2 (Burstcoin) με βελτιώσεις:
- Διόρθωση ελαττώματος ασφαλείας (επίθεση XOR-transpose compression)
- Κλιμακούμενο proof-of-work
- Διάταξη βελτιστοποιημένη για SIMD
- Λειτουργικότητα Seed

### Πηγαία Έργα

- **pocx_miner**: Υλοποίηση αναφοράς βασισμένη στο [scavenger](https://github.com/PoC-Consortium/scavenger)
- **pocx_plotter**: Υλοποίηση αναφοράς βασισμένη στο [engraver](https://github.com/PoC-Consortium/engraver)

**Πλήρης Απόδοση**: [Κεφάλαιο 2: Μορφή Plot](2-plot-format.md)

---

## Σύνοψη Τεχνικών Προδιαγραφών

- **Χρόνος Block**: 120 δευτερόλεπτα (mainnet), 1 δευτερόλεπτο (regtest)
- **Επιδότηση Block**: 10 BTC αρχικά, halving κάθε 1050000 blocks (~4 χρόνια)
- **Συνολική Προσφορά**: ~21 εκατομμύρια BTC (ίδια με το Bitcoin)
- **Ανοχή Μέλλοντος**: 15 δευτερόλεπτα (blocks έως 15s μπροστά γίνονται αποδεκτά)
- **Προειδοποίηση Ρολογιού**: 10 δευτερόλεπτα (προειδοποιεί τους διαχειριστές για απόκλιση χρόνου)
- **Καθυστέρηση Ανάθεσης**: 30 blocks (~1 ώρα)
- **Καθυστέρηση Ανάκλησης**: 720 blocks (~24 ώρες)
- **Μορφή Διεύθυνσης**: Μόνο P2WPKH (bech32, pocx1q...) για λειτουργίες εξόρυξης PoCX και αναθέσεις σφυρηλάτησης

---

## Οργάνωση Κώδικα

**Τροποποιήσεις Bitcoin Core**: Ελάχιστες αλλαγές σε αρχεία πυρήνα, με σημαία χαρακτηριστικού `#ifdef ENABLE_POCX`

**Νέα Υλοποίηση PoCX**: Απομονωμένη στον κατάλογο `src/pocx/`

---

## Θεωρήσεις Ασφαλείας

### Ασφάλεια Χρονισμού

- Ανοχή μέλλοντος 15 δευτερολέπτων αποτρέπει τον κατακερματισμό δικτύου
- Κατώφλι προειδοποίησης 10 δευτερολέπτων ειδοποιεί τους διαχειριστές για απόκλιση ρολογιού
- Η αμυντική σφυρηλάτηση εξαλείφει το κίνητρο για χειραγώγηση ρολογιού
- Το Time Bending μειώνει τον αντίκτυπο της διακύμανσης χρονισμού

**Λεπτομέρειες**: [Κεφάλαιο 5: Ασφάλεια Χρονισμού](5-timing-security.md)

### Ασφάλεια Αναθέσεων

- Σχεδιασμός αποκλειστικά με OP_RETURN (χωρίς χειραγώγηση UTXO)
- Η υπογραφή συναλλαγής αποδεικνύει ιδιοκτησία plot
- Καθυστερήσεις ενεργοποίησης αποτρέπουν γρήγορη χειραγώγηση κατάστασης
- Δεδομένα αναίρεσης ασφαλή για reorg για όλες τις αλλαγές κατάστασης

**Λεπτομέρειες**: [Κεφάλαιο 4: Αναθέσεις Σφυρηλάτησης](4-forging-assignments.md)

### Ασφάλεια Συναίνεσης

- Η υπογραφή εξαιρείται από το hash του block (αποτρέπει ευπλαστότητα)
- Οριοθετημένα μεγέθη υπογραφών (αποτρέπει DoS)
- Επικύρωση ορίων συμπίεσης (αποτρέπει αδύναμες αποδείξεις)
- Προσαρμογή δυσκολίας ανά block (ανταποκρίνεται σε αλλαγές χωρητικότητας)

**Λεπτομέρειες**: [Κεφάλαιο 3: Συναίνεση και Εξόρυξη](3-consensus-and-mining.md)

---

## Κατάσταση Δικτύου

**Mainnet**: Δεν έχει εκκινηθεί ακόμα
**Testnet**: Διαθέσιμο για δοκιμές
**Regtest**: Πλήρως λειτουργικό για ανάπτυξη

**Παράμετροι Genesis Block**: [Κεφάλαιο 6: Παράμετροι Δικτύου](6-network-parameters.md)

---

## Επόμενα Βήματα

**Για Κατανόηση του PoCX**: Συνεχίστε στο [Κεφάλαιο 2: Μορφή Plot](2-plot-format.md) για να μάθετε για τη δομή αρχείων plot και την εξέλιξη της μορφής.

**Για Ρύθμιση Εξόρυξης**: Μεταβείτε στο [Κεφάλαιο 7: Αναφορά RPC](7-rpc-reference.md) για λεπτομέρειες ενσωμάτωσης.

**Για Εκτέλεση Κόμβου**: Ανατρέξτε στο [Κεφάλαιο 6: Παράμετροι Δικτύου](6-network-parameters.md) για επιλογές διαμόρφωσης.

---

[Πίνακας Περιεχομένων](index.md) | [Επόμενο: Μορφή Plot →](2-plot-format.md)
