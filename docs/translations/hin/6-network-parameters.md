[тЖР рдкрд┐рдЫрд▓рд╛: рд╕рдордп рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝реЗрд╢рди](5-timing-security.md) | [ЁЯУШ рд╡рд┐рд╖рдп-рд╕реВрдЪреА](index.md) | [рдЕрдЧрд▓рд╛: RPC рд╕рдВрджрд░реНрдн тЖТ](7-rpc-reference.md)

---

# рдЕрдзреНрдпрд╛рдп 6: рдиреЗрдЯрд╡рд░реНрдХ рдкреИрд░рд╛рдореАрдЯрд░ рдФрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди

рд╕рднреА рдиреЗрдЯрд╡рд░реНрдХ рдкреНрд░рдХрд╛рд░реЛрдВ рдореЗрдВ Bitcoin-PoCX рдиреЗрдЯрд╡рд░реНрдХ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХрд╛ рд╕рдВрдкреВрд░реНрдг рд╕рдВрджрд░реНрднред

---

## рд╡рд┐рд╖рдп-рд╕реВрдЪреА

1. [Genesis рдмреНрд▓реЙрдХ рдкреИрд░рд╛рдореАрдЯрд░](#genesis-рдмреНрд▓реЙрдХ-рдкреИрд░рд╛рдореАрдЯрд░)
2. [Chainparams рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди](#chainparams-рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди)
3. [рд╕рд╣рдорддрд┐ рдкреИрд░рд╛рдореАрдЯрд░](#рд╕рд╣рдорддрд┐-рдкреИрд░рд╛рдореАрдЯрд░)
4. [Coinbase рдФрд░ рдмреНрд▓реЙрдХ рдкреБрд░рд╕реНрдХрд╛рд░](#coinbase-рдФрд░-рдмреНрд▓реЙрдХ-рдкреБрд░рд╕реНрдХрд╛рд░)
5. [рдбрд╛рдпрдирд╛рдорд┐рдХ рд╕реНрдХреЗрд▓рд┐рдВрдЧ](#рдбрд╛рдпрдирд╛рдорд┐рдХ-рд╕реНрдХреЗрд▓рд┐рдВрдЧ)
6. [рдиреЗрдЯрд╡рд░реНрдХ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди](#рдиреЗрдЯрд╡рд░реНрдХ-рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди)
7. [рдбреЗрдЯрд╛ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рд╕рдВрд░рдЪрдирд╛](#рдбреЗрдЯрд╛-рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛-рд╕рдВрд░рдЪрдирд╛)

---

## Genesis рдмреНрд▓реЙрдХ рдкреИрд░рд╛рдореАрдЯрд░

### Base Target рдЧрдгрдирд╛

**рд╕реВрддреНрд░**: `genesis_base_target = 2^42 / block_time_seconds`

**рддрд░реНрдХ**:
- рдкреНрд░рддреНрдпреЗрдХ nonce 256 KiB рдХрд╛ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдХрд░рддрд╛ рд╣реИ (64 рдмрд╛рдЗрдЯреНрд╕ ├Ч 4096 scoops)
- 1 TiB = 2^22 nonces (рдкреНрд░рд╛рд░рдВрднрд┐рдХ рдиреЗрдЯрд╡рд░реНрдХ рдХреНрд╖рдорддрд╛ рдзрд╛рд░рдгрд╛)
- n nonces рдХреЗ рд▓рд┐рдП рдЕрдкреЗрдХреНрд╖рд┐рдд рдиреНрдпреВрдирддрдо рдЧреБрдгрд╡рддреНрддрд╛ тЙИ 2^64 / n
- 1 TiB рдХреЗ рд▓рд┐рдП: E(quality) = 2^64 / 2^22 = 2^42
- рдЗрд╕рд▓рд┐рдП: base_target = 2^42 / block_time

**рдЧрдгрдирд╛ рдХрд┐рдП рдЧрдП рдорд╛рди**:
- Mainnet/Testnet/Signet (120s): `36650387592`
- Regtest (1s): рдХрдо-рдХреНрд╖рдорддрд╛ рдХреИрд▓рд┐рдмреНрд░реЗрд╢рди рдореЛрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ

### Genesis рд╕рдВрджреЗрд╢

рд╕рднреА рдиреЗрдЯрд╡рд░реНрдХ Bitcoin genesis рд╕рдВрджреЗрд╢ рд╕рд╛рдЭрд╛ рдХрд░рддреЗ рд╣реИрдВ:
```
"The Times 03/Jan/2009 Chancellor on brink of second bailout for banks"
```

**рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди**: `src/kernel/chainparams.cpp`

---

## Chainparams рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди

### Mainnet рдкреИрд░рд╛рдореАрдЯрд░

**рдиреЗрдЯрд╡рд░реНрдХ рдкрд╣рдЪрд╛рди**:
- **Magic Bytes**: `0xa7 0x3c 0x91 0x5e`
- **рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдкреЛрд░реНрдЯ**: `8888`
- **Bech32 HRP**: `pocx`

**рдкрддрд╛ рдЙрдкрд╕рд░реНрдЧ** (Base58):
- PUBKEY_ADDRESS: `85` (рдкрддреЗ 'P' рд╕реЗ рд╢реБрд░реВ)
- SCRIPT_ADDRESS: `90` (рдкрддреЗ 'R' рд╕реЗ рд╢реБрд░реВ)
- SECRET_KEY: `128`

**рдмреНрд▓реЙрдХ рд╕рдордп**:
- **рдмреНрд▓реЙрдХ рд╕рдордп рд▓рдХреНрд╖реНрдп**: `120` рд╕реЗрдХрдВрдб (2 рдорд┐рдирдЯ)
- **рд▓рдХреНрд╖реНрдп рд╕рдордпрд╛рд╡рдзрд┐**: `1209600` рд╕реЗрдХрдВрдб (14 рджрд┐рди)
- **MAX_FUTURE_BLOCK_TIME**: `15` рд╕реЗрдХрдВрдб

**рдмреНрд▓реЙрдХ рдкреБрд░рд╕реНрдХрд╛рд░**:
- **рдкреНрд░рд╛рд░рдВрднрд┐рдХ рд╕рдмреНрд╕рд┐рдбреА**: `10 BTC`
- **Halving рдЕрдВрддрд░рд╛рд▓**: `1050000` рдмреНрд▓реЙрдХ (~4 рд╡рд░реНрд╖)
- **Halving рдЧрдгрдирд╛**: рдЕрдзрд┐рдХрддрдо 64 halvings

**рдХрдард┐рдирд╛рдИ рд╕рдорд╛рдпреЛрдЬрди**:
- **рд░реЛрд▓рд┐рдВрдЧ рд╡рд┐рдВрдбреЛ**: `24` рдмреНрд▓реЙрдХ
- **рд╕рдорд╛рдпреЛрдЬрди**: рдкреНрд░рддреНрдпреЗрдХ рдмреНрд▓реЙрдХ
- **рдПрд▓реНрдЧреЛрд░рд┐рдердо**: рдШрд╛рддрд╛рдВрдХреАрдп рдореВрд╡рд┐рдВрдЧ рдПрд╡рд░реЗрдЬ

**рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ рд╡рд┐рд▓рдВрдм**:
- **рд╕рдХреНрд░рд┐рдпрдг**: `30` рдмреНрд▓реЙрдХ (~1 рдШрдВрдЯрд╛)
- **рдирд┐рд░рд╕реНрддреАрдХрд░рдг**: `720` рдмреНрд▓реЙрдХ (~24 рдШрдВрдЯреЗ)

### Testnet рдкреИрд░рд╛рдореАрдЯрд░

**рдиреЗрдЯрд╡рд░реНрдХ рдкрд╣рдЪрд╛рди**:
- **Magic Bytes**: `0x6d 0xf2 0x48 0xb3`
- **рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдкреЛрд░реНрдЯ**: `18888`
- **Bech32 HRP**: `tpocx`

**рдкрддрд╛ рдЙрдкрд╕рд░реНрдЧ** (Base58):
- PUBKEY_ADDRESS: `127`
- SCRIPT_ADDRESS: `132`
- SECRET_KEY: `255`

**рдмреНрд▓реЙрдХ рд╕рдордп**:
- **рдмреНрд▓реЙрдХ рд╕рдордп рд▓рдХреНрд╖реНрдп**: `120` рд╕реЗрдХрдВрдб
- **MAX_FUTURE_BLOCK_TIME**: `15` рд╕реЗрдХрдВрдб
- **рдиреНрдпреВрдирддрдо рдХрдард┐рдирд╛рдИ рдХреА рдЕрдиреБрдорддрд┐**: `true`

**рдмреНрд▓реЙрдХ рдкреБрд░рд╕реНрдХрд╛рд░**:
- **рдкреНрд░рд╛рд░рдВрднрд┐рдХ рд╕рдмреНрд╕рд┐рдбреА**: `10 BTC`
- **Halving рдЕрдВрддрд░рд╛рд▓**: `1050000` рдмреНрд▓реЙрдХ

**рдХрдард┐рдирд╛рдИ рд╕рдорд╛рдпреЛрдЬрди**:
- **рд░реЛрд▓рд┐рдВрдЧ рд╡рд┐рдВрдбреЛ**: `24` рдмреНрд▓реЙрдХ

**рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ рд╡рд┐рд▓рдВрдм**:
- **рд╕рдХреНрд░рд┐рдпрдг**: `30` рдмреНрд▓реЙрдХ (~1 рдШрдВрдЯрд╛)
- **рдирд┐рд░рд╕реНрддреАрдХрд░рдг**: `720` рдмреНрд▓реЙрдХ (~24 рдШрдВрдЯреЗ)

### Regtest рдкреИрд░рд╛рдореАрдЯрд░

**рдиреЗрдЯрд╡рд░реНрдХ рдкрд╣рдЪрд╛рди**:
- **Magic Bytes**: `0xfa 0xbf 0xb5 0xda`
- **рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдкреЛрд░реНрдЯ**: `18444`
- **Bech32 HRP**: `rpocx`

**рдкрддрд╛ рдЙрдкрд╕рд░реНрдЧ** (Bitcoin-рд╕рдВрдЧрдд):
- PUBKEY_ADDRESS: `111`
- SCRIPT_ADDRESS: `196`
- SECRET_KEY: `239`

**рдмреНрд▓реЙрдХ рд╕рдордп**:
- **рдмреНрд▓реЙрдХ рд╕рдордп рд▓рдХреНрд╖реНрдп**: `1` рд╕реЗрдХрдВрдб (рдкрд░реАрдХреНрд╖рдг рдХреЗ рд▓рд┐рдП рддрддреНрдХрд╛рд▓ рдорд╛рдЗрдирд┐рдВрдЧ)
- **рд▓рдХреНрд╖реНрдп рд╕рдордпрд╛рд╡рдзрд┐**: `86400` рд╕реЗрдХрдВрдб (1 рджрд┐рди)
- **MAX_FUTURE_BLOCK_TIME**: `15` рд╕реЗрдХрдВрдб

**рдмреНрд▓реЙрдХ рдкреБрд░рд╕реНрдХрд╛рд░**:
- **рдкреНрд░рд╛рд░рдВрднрд┐рдХ рд╕рдмреНрд╕рд┐рдбреА**: `10 BTC`
- **Halving рдЕрдВрддрд░рд╛рд▓**: `500` рдмреНрд▓реЙрдХ

**рдХрдард┐рдирд╛рдИ рд╕рдорд╛рдпреЛрдЬрди**:
- **рд░реЛрд▓рд┐рдВрдЧ рд╡рд┐рдВрдбреЛ**: `24` рдмреНрд▓реЙрдХ
- **рдиреНрдпреВрдирддрдо рдХрдард┐рдирд╛рдИ рдХреА рдЕрдиреБрдорддрд┐**: `true`
- **рдХреЛрдИ рд░реАрдЯрд╛рд░реНрдЧреЗрдЯрд┐рдВрдЧ рдирд╣реАрдВ**: `true`
- **рдХрдо рдХреНрд╖рдорддрд╛ рдХреИрд▓рд┐рдмреНрд░реЗрд╢рди**: `true` (1 TiB рдХреЗ рдмрдЬрд╛рдп 16-nonce рдХреИрд▓рд┐рдмреНрд░реЗрд╢рди рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ)

**рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ рд╡рд┐рд▓рдВрдм**:
- **рд╕рдХреНрд░рд┐рдпрдг**: `4` рдмреНрд▓реЙрдХ (~4 рд╕реЗрдХрдВрдб)
- **рдирд┐рд░рд╕реНрддреАрдХрд░рдг**: `8` рдмреНрд▓реЙрдХ (~8 рд╕реЗрдХрдВрдб)

### Signet рдкреИрд░рд╛рдореАрдЯрд░

**рдиреЗрдЯрд╡рд░реНрдХ рдкрд╣рдЪрд╛рди**:
- **Magic Bytes**: SHA256d(signet_challenge) рдХреЗ рдкрд╣рд▓реЗ 4 рдмрд╛рдЗрдЯреНрд╕
- **рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдкреЛрд░реНрдЯ**: `38333`
- **Bech32 HRP**: `tpocx`

**рдмреНрд▓реЙрдХ рд╕рдордп**:
- **рдмреНрд▓реЙрдХ рд╕рдордп рд▓рдХреНрд╖реНрдп**: `120` рд╕реЗрдХрдВрдб
- **MAX_FUTURE_BLOCK_TIME**: `15` рд╕реЗрдХрдВрдб

**рдмреНрд▓реЙрдХ рдкреБрд░рд╕реНрдХрд╛рд░**:
- **рдкреНрд░рд╛рд░рдВрднрд┐рдХ рд╕рдмреНрд╕рд┐рдбреА**: `10 BTC`
- **Halving рдЕрдВрддрд░рд╛рд▓**: `1050000` рдмреНрд▓реЙрдХ

**рдХрдард┐рдирд╛рдИ рд╕рдорд╛рдпреЛрдЬрди**:
- **рд░реЛрд▓рд┐рдВрдЧ рд╡рд┐рдВрдбреЛ**: `24` рдмреНрд▓реЙрдХ

---

## рд╕рд╣рдорддрд┐ рдкреИрд░рд╛рдореАрдЯрд░

### рд╕рдордп рдкреИрд░рд╛рдореАрдЯрд░

**MAX_FUTURE_BLOCK_TIME**: `15` рд╕реЗрдХрдВрдб
- PoCX-рд╡рд┐рд╢рд┐рд╖реНрдЯ (Bitcoin 2 рдШрдВрдЯреЗ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ)
- рддрд░реНрдХ: PoC рд╕рдордп рдХреЛ рдирд┐рдХрдЯ-рд╡рд╛рд╕реНрддрд╡рд┐рдХ-рд╕рдордп рд╕рддреНрдпрд╛рдкрди рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ
- рднрд╡рд┐рд╖реНрдп рдореЗрдВ 15s рд╕реЗ рдЕрдзрд┐рдХ рдХреЗ рдмреНрд▓реЙрдХ рдЕрд╕реНрд╡реАрдХреГрдд рд╣реЛрддреЗ рд╣реИрдВ

**рд╕рдордп рдСрдлрд╝рд╕реЗрдЯ рдЪреЗрддрд╛рд╡рдиреА**: `10` рд╕реЗрдХрдВрдб
- рдЬрдм рдиреЛрдб рдШрдбрд╝реА рдиреЗрдЯрд╡рд░реНрдХ рд╕рдордп рд╕реЗ >10s рдбреНрд░рд┐рдлреНрдЯ рдХрд░рддреА рд╣реИ рддреЛ рдСрдкрд░реЗрдЯрд░реЛрдВ рдХреЛ рдЪреЗрддрд╛рд╡рдиреА рджреА рдЬрд╛рддреА рд╣реИ
- рдХреЛрдИ рдкреНрд░рд╡рд░реНрддрди рдирд╣реАрдВ, рдХреЗрд╡рд▓ рд╕реВрдЪрдирд╛рддреНрдордХ

**рдмреНрд▓реЙрдХ рд╕рдордп рд▓рдХреНрд╖реНрдп**:
- Mainnet/Testnet/Signet: `120` рд╕реЗрдХрдВрдб
- Regtest: `1` рд╕реЗрдХрдВрдб

**TIMESTAMP_WINDOW**: `15` рд╕реЗрдХрдВрдб (MAX_FUTURE_BLOCK_TIME рдХреЗ рдмрд░рд╛рдмрд░)

**рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди**: `src/chain.h`, `src/validation.cpp`

### рдХрдард┐рдирд╛рдИ рд╕рдорд╛рдпреЛрдЬрди рдкреИрд░рд╛рдореАрдЯрд░

**рд░реЛрд▓рд┐рдВрдЧ рд╡рд┐рдВрдбреЛ рдЖрдХрд╛рд░**: `24` рдмреНрд▓реЙрдХ (рд╕рднреА рдиреЗрдЯрд╡рд░реНрдХ)
- рд╣рд╛рд▓ рдХреЗ рдмреНрд▓реЙрдХ рд╕рдордп рдХрд╛ рдШрд╛рддрд╛рдВрдХреАрдп рдореВрд╡рд┐рдВрдЧ рдПрд╡рд░реЗрдЬ
- рдкреНрд░рддреНрдпреЗрдХ-рдмреНрд▓реЙрдХ рд╕рдорд╛рдпреЛрдЬрди
- рдХреНрд╖рдорддрд╛ рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреЗ рдкреНрд░рддрд┐ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛рд╢реАрд▓

**рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди**: `src/consensus/params.h`, рдмреНрд▓реЙрдХ рдирд┐рд░реНрдорд╛рдг рдореЗрдВ рдХрдард┐рдирд╛рдИ рд▓реЙрдЬрд┐рдХ

### рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ рд╕рд┐рд╕реНрдЯрдо рдкреИрд░рд╛рдореАрдЯрд░

**nForgingAssignmentDelay** (рд╕рдХреНрд░рд┐рдпрдг рд╡рд┐рд▓рдВрдм):
- Mainnet: `30` рдмреНрд▓реЙрдХ (~1 рдШрдВрдЯрд╛)
- Testnet: `30` рдмреНрд▓реЙрдХ (~1 рдШрдВрдЯрд╛)
- Regtest: `4` рдмреНрд▓реЙрдХ (~4 рд╕реЗрдХрдВрдб)

**nForgingRevocationDelay** (рдирд┐рд░рд╕реНрддреАрдХрд░рдг рд╡рд┐рд▓рдВрдм):
- Mainnet: `720` рдмреНрд▓реЙрдХ (~24 рдШрдВрдЯреЗ)
- Testnet: `720` рдмреНрд▓реЙрдХ (~24 рдШрдВрдЯреЗ)
- Regtest: `8` рдмреНрд▓реЙрдХ (~8 рд╕реЗрдХрдВрдб)

**рддрд░реНрдХ**:
- рд╕рдХреНрд░рд┐рдпрдг рд╡рд┐рд▓рдВрдм рдмреНрд▓реЙрдХ рджреМрдбрд╝ рдХреЗ рджреМрд░рд╛рди рддреЗрдЬрд╝ рдкреБрдирд░реНрдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ рд░реЛрдХрддрд╛ рд╣реИ
- рдирд┐рд░рд╕реНрддреАрдХрд░рдг рд╡рд┐рд▓рдВрдм рд╕реНрдерд┐рд░рддрд╛ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ рдФрд░ рджреБрд░реБрдкрдпреЛрдЧ рд░реЛрдХрддрд╛ рд╣реИ

**рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди**: `src/consensus/params.h`

---

## Coinbase рдФрд░ рдмреНрд▓реЙрдХ рдкреБрд░рд╕реНрдХрд╛рд░

### рдмреНрд▓реЙрдХ рд╕рдмреНрд╕рд┐рдбреА рдЕрдиреБрд╕реВрдЪреА

**рдкреНрд░рд╛рд░рдВрднрд┐рдХ рд╕рдмреНрд╕рд┐рдбреА**: `10 BTC` (рд╕рднреА рдиреЗрдЯрд╡рд░реНрдХ)

**Halving рдЕрдиреБрд╕реВрдЪреА**:
- рдкреНрд░рддреНрдпреЗрдХ `1050000` рдмреНрд▓реЙрдХ (mainnet/testnet)
- рдкреНрд░рддреНрдпреЗрдХ `500` рдмреНрд▓реЙрдХ (regtest)
- рдЕрдзрд┐рдХрддрдо 64 halvings рддрдХ рдЬрд╛рд░реА

**Halving рдкреНрд░рдЧрддрд┐**:
```
Halving 0: 10.00000000 BTC  (рдмреНрд▓реЙрдХ 0 - 1049999)
Halving 1:  5.00000000 BTC  (рдмреНрд▓реЙрдХ 1050000 - 2099999)
Halving 2:  2.50000000 BTC  (рдмреНрд▓реЙрдХ 2100000 - 3149999)
Halving 3:  1.25000000 BTC  (рдмреНрд▓реЙрдХ 3150000 - 4199999)
...
```

**рдХреБрд▓ рдЖрдкреВрд░реНрддрд┐**: ~21 рдорд┐рд▓рд┐рдпрди BTC (Bitcoin рдХреЗ рд╕рдорд╛рди)

### Coinbase рдЖрдЙрдЯрдкреБрдЯ рдирд┐рдпрдо

**рднреБрдЧрддрд╛рди рдЧрдВрддрд╡реНрдп**:
- **рдХреЛрдИ рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ рдирд╣реАрдВ**: Coinbase plot рдкрддреЗ (proof.account_id) рдХреЛ рднреБрдЧрддрд╛рди рдХрд░рддрд╛ рд╣реИ
- **рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ рдХреЗ рд╕рд╛рде**: Coinbase рдлреЛрд░реНрдЬрд┐рдВрдЧ рдкрддреЗ (рдкреНрд░рднрд╛рд╡реА рд╣рд╕реНрддрд╛рдХреНрд╖рд░рдХрд░реНрддрд╛) рдХреЛ рднреБрдЧрддрд╛рди рдХрд░рддрд╛ рд╣реИ

**рдЖрдЙрдЯрдкреБрдЯ рдкреНрд░рд╛рд░реВрдк**: рдХреЗрд╡рд▓ P2WPKH
- Coinbase bech32 SegWit v0 рдкрддреЗ рдХреЛ рднреБрдЧрддрд╛рди рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП
- рдкреНрд░рднрд╛рд╡реА рд╣рд╕реНрддрд╛рдХреНрд╖рд░рдХрд░реНрддрд╛ рдХреА рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдХреБрдВрдЬреА рд╕реЗ рдЙрддреНрдкрдиреНрди

**рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ рд░рд┐рдЬрд╝реЙрд▓реНрдпреВрд╢рди**:
```cpp
effective_signer = GetEffectiveSigner(plot_address, height, view);
coinbase_script = P2WPKH(effective_signer);
```

**рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди**: `src/pocx/mining/scheduler.cpp:ForgeBlock()`

---

## рдбрд╛рдпрдирд╛рдорд┐рдХ рд╕реНрдХреЗрд▓рд┐рдВрдЧ

### рд╕реНрдХреЗрд▓рд┐рдВрдЧ рд╕реАрдорд╛рдПрдВ

**рдЙрджреНрджреЗрд╢реНрдп**: рдХреНрд╖рдорддрд╛ рдореБрджреНрд░рд╛рд╕реНрдлреАрддрд┐ рд░реЛрдХрдиреЗ рдХреЗ рд▓рд┐рдП рдиреЗрдЯрд╡рд░реНрдХ рдкрд░рд┐рдкрдХреНрд╡ рд╣реЛрдиреЗ рдкрд░ plot рдЬрдирд░реЗрд╢рди рдХрдард┐рдирд╛рдИ рдмрдврд╝рд╛рдПрдВ

**рд╕рдВрд░рдЪрдирд╛**:
```cpp
struct CompressionBounds {
    uint8_t nPoCXMinCompression;     // рдиреНрдпреВрдирддрдо рд╕реНрд╡реАрдХреГрдд рд╕реНрддрд░
    uint8_t nPoCXTargetCompression;  // рдЕрдиреБрд╢рдВрд╕рд┐рдд рд╕реНрддрд░
};
```

**рд╕рдВрдмрдВрдз**: `target = min + 1` (рд╣рдореЗрд╢рд╛ рдиреНрдпреВрдирддрдо рд╕реЗ рдПрдХ рд╕реНрддрд░ рдКрдкрд░)

### рд╕реНрдХреЗрд▓рд┐рдВрдЧ рд╡реГрджреНрдзрд┐ рдЕрдиреБрд╕реВрдЪреА

рд╕реНрдХреЗрд▓рд┐рдВрдЧ рд╕реНрддрд░ halving рдЕрдВрддрд░рд╛рд▓реЛрдВ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ **рдШрд╛рддрд╛рдВрдХреАрдп рдЕрдиреБрд╕реВрдЪреА** рдкрд░ рдмрдврд╝рддреЗ рд╣реИрдВ:

| рд╕рдордп рдЕрд╡рдзрд┐ | рдмреНрд▓реЙрдХ рдКрдВрдЪрд╛рдИ | Halvings | Min | Target |
|-------------|--------------|----------|-----|--------|
| рд╡рд░реНрд╖ 0-4 | 0 рд╕реЗ 1049999 | 0 | X1 | X2 |
| рд╡рд░реНрд╖ 4-12 | 1050000 рд╕реЗ 3149999 | 1-2 | X2 | X3 |
| рд╡рд░реНрд╖ 12-28 | 3150000 рд╕реЗ 7349999 | 3-6 | X3 | X4 |
| рд╡рд░реНрд╖ 28-60 | 7350000 рд╕реЗ 15749999 | 7-14 | X4 | X5 |
| рд╡рд░реНрд╖ 60-124 | 15750000 рд╕реЗ 32549999 | 15-30 | X5 | X6 |
| рд╡рд░реНрд╖ 124+ | 32550000+ | 31+ | X6 | X7 |

**рдореБрдЦреНрдп рдКрдВрдЪрд╛рдЗрдпрд╛рдВ** (рд╡рд░реНрд╖ тЖТ halvings тЖТ рдмреНрд▓реЙрдХ):
- рд╡рд░реНрд╖ 4: Halving 1 рдмреНрд▓реЙрдХ 1050000 рдкрд░
- рд╡рд░реНрд╖ 12: Halving 3 рдмреНрд▓реЙрдХ 3150000 рдкрд░
- рд╡рд░реНрд╖ 28: Halving 7 рдмреНрд▓реЙрдХ 7350000 рдкрд░
- рд╡рд░реНрд╖ 60: Halving 15 рдмреНрд▓реЙрдХ 15750000 рдкрд░
- рд╡рд░реНрд╖ 124: Halving 31 рдмреНрд▓реЙрдХ 32550000 рдкрд░

### рд╕реНрдХреЗрд▓рд┐рдВрдЧ рд╕реНрддрд░ рдХрдард┐рдирд╛рдИ

**PoW рд╕реНрдХреЗрд▓рд┐рдВрдЧ**:
- рд╕реНрдХреЗрд▓рд┐рдВрдЧ рд╕реНрддрд░ X0: POC2 рдмреЗрд╕рд▓рд╛рдЗрди (рд╕реИрджреНрдзрд╛рдВрддрд┐рдХ)
- рд╕реНрдХреЗрд▓рд┐рдВрдЧ рд╕реНрддрд░ X1: XOR-transpose рдмреЗрд╕рд▓рд╛рдЗрди
- рд╕реНрдХреЗрд▓рд┐рдВрдЧ рд╕реНрддрд░ Xn: 2^(n-1) ├Ч X1 рдХрд╛рд░реНрдп рдПрдореНрдмреЗрдбреЗрдб
- рдкреНрд░рддреНрдпреЗрдХ рд╕реНрддрд░ plot рдЬрдирд░реЗрд╢рди рдХрд╛рд░реНрдп рдХреЛ рджреЛрдЧреБрдирд╛ рдХрд░рддрд╛ рд╣реИ

**рдЖрд░реНрдерд┐рдХ рд╕рдВрд░реЗрдЦрдг**:
- рдмреНрд▓реЙрдХ рдкреБрд░рд╕реНрдХрд╛рд░ рдЖрдзреЗ рд╣реЛрддреЗ рд╣реИрдВ тЖТ plot рдЬрдирд░реЗрд╢рди рдХрдард┐рдирд╛рдИ рдмрдврд╝рддреА рд╣реИ
- рд╕реБрд░рдХреНрд╖рд╛ рдорд╛рд░реНрдЬрд┐рди рдмрдирд╛рдП рд░рдЦрддрд╛ рд╣реИ: plot рдирд┐рд░реНрдорд╛рдг рд▓рд╛рдЧрдд > рд▓реБрдХрдЕрдк рд▓рд╛рдЧрдд
- рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рд╕реБрдзрд╛рд░реЛрдВ рд╕реЗ рдХреНрд╖рдорддрд╛ рдореБрджреНрд░рд╛рд╕реНрдлреАрддрд┐ рд░реЛрдХрддрд╛ рд╣реИ

### Plot рд╕рддреНрдпрд╛рдкрди

**рд╕рддреНрдпрд╛рдкрди рдирд┐рдпрдо**:
- рд╕рдмрдорд┐рдЯ рдХрд┐рдП рдЧрдП proofs рдореЗрдВ рд╕реНрдХреЗрд▓рд┐рдВрдЧ рд╕реНрддрд░ тЙе рдиреНрдпреВрдирддрдо рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП
- рд╕реНрдХреЗрд▓рд┐рдВрдЧ > target рд╡рд╛рд▓реЗ Proofs рд╕реНрд╡реАрдХрд╛рд░ рд▓реЗрдХрд┐рди рдЕрдХреНрд╖рдо
- рдиреНрдпреВрдирддрдо рд╕реЗ рдиреАрдЪреЗ рдХреЗ Proofs: рдЕрд╕реНрд╡реАрдХреГрдд (рдЕрдкрд░реНрдпрд╛рдкреНрдд PoW)

**рд╕реАрдорд╛рдПрдВ рдкреБрдирд░реНрдкреНрд░рд╛рдкреНрддрд┐**:
```cpp
auto bounds = GetPoCXCompressionBounds(height, halving_interval);
```

**рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди**: `src/pocx/algorithms/algorithms.h:GetPoCXCompressionBounds()`, `src/pocx/consensus/params.cpp`

---

## рдиреЗрдЯрд╡рд░реНрдХ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди

### Seed рдиреЛрдбреНрд╕ рдФрд░ DNS Seeds

**рд╕реНрдерд┐рддрд┐**: Mainnet рд▓реЙрдиреНрдЪ рдХреЗ рд▓рд┐рдП рдкреНрд▓реЗрд╕рд╣реЛрд▓реНрдбрд░

**рдирд┐рдпреЛрдЬрд┐рдд рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди**:
- Seed рдиреЛрдбреНрд╕: TBD
- DNS seeds: TBD

**рд╡рд░реНрддрдорд╛рди рд╕реНрдерд┐рддрд┐** (testnet/regtest):
- рдХреЛрдИ рд╕рдорд░реНрдкрд┐рдд seed рдЗрдВрдлреНрд░рд╛рд╕реНрдЯреНрд░рдХреНрдЪрд░ рдирд╣реАрдВ
- `-addnode` рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдореИрдиреНрдпреБрдЕрд▓ peer рдХрдиреЗрдХреНрд╢рди рд╕рдорд░реНрдерд┐рдд

**рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди**: `src/kernel/chainparams.cpp`

### Checkpoints

**Genesis Checkpoint**: рд╣рдореЗрд╢рд╛ рдмреНрд▓реЙрдХ 0

**рдЕрддрд┐рд░рд┐рдХреНрдд Checkpoints**: рд╡рд░реНрддрдорд╛рди рдореЗрдВ рдХреЛрдИ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдирд╣реАрдВ

**рднрд╡рд┐рд╖реНрдп**: Mainnet рдкреНрд░рдЧрддрд┐ рдХреЗ рд╕рд╛рде Checkpoints рдЬреЛрдбрд╝реЗ рдЬрд╛рдПрдВрдЧреЗ

---

## P2P рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди

### рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рд╕рдВрд╕реНрдХрд░рдг

**рдмреЗрд╕**: Bitcoin Core v30.0 рдкреНрд░реЛрдЯреЛрдХреЙрд▓
- **рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рд╕рдВрд╕реНрдХрд░рдг**: Bitcoin Core рд╕реЗ рд╡рд┐рд░рд╛рд╕рдд рдореЗрдВ
- **Service Bits**: рдорд╛рдирдХ Bitcoin рд╕реЗрд╡рд╛рдПрдВ
- **рд╕рдВрджреЗрд╢ рдкреНрд░рдХрд╛рд░**: рдорд╛рдирдХ Bitcoin P2P рд╕рдВрджреЗрд╢

**PoCX рдПрдХреНрд╕рдЯреЗрдВрд╢рди**:
- рдмреНрд▓реЙрдХ рд╣реЗрдбрд░ рдореЗрдВ PoCX-рд╡рд┐рд╢рд┐рд╖реНрдЯ рдлрд╝реАрд▓реНрдб рд╢рд╛рдорд┐рд▓
- рдмреНрд▓реЙрдХ рд╕рдВрджреЗрд╢реЛрдВ рдореЗрдВ PoCX рдкреНрд░рдорд╛рдг рдбреЗрдЯрд╛ рд╢рд╛рдорд┐рд▓
- рд╕рддреНрдпрд╛рдкрди рдирд┐рдпрдо PoCX рд╕рд╣рдорддрд┐ рд▓рд╛рдЧреВ рдХрд░рддреЗ рд╣реИрдВ

**рд╕рдВрдЧрддрддрд╛**: PoCX рдиреЛрдбреНрд╕ Bitcoin PoW рдиреЛрдбреНрд╕ рдХреЗ рд╕рд╛рде рдЕрд╕рдВрдЧрдд (рднрд┐рдиреНрди рд╕рд╣рдорддрд┐)

**рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди**: `src/protocol.h`, `src/net_processing.cpp`

---

## рдбреЗрдЯрд╛ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рд╕рдВрд░рдЪрдирд╛

### рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛

**рд╕реНрдерд╛рди**: `.bitcoin/` (Bitcoin Core рдХреЗ рд╕рдорд╛рди)
- Linux: `~/.bitcoin/`
- macOS: `~/Library/Application Support/Bitcoin/`
- Windows: `%APPDATA%\Bitcoin\`

### рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рд╕рд╛рдордЧреНрд░реА

```
.bitcoin/
тФЬтФАтФА blocks/              # рдмреНрд▓реЙрдХ рдбреЗрдЯрд╛
тФВ   тФЬтФАтФА blk*.dat        # рдмреНрд▓реЙрдХ рдлрд╝рд╛рдЗрд▓реЗрдВ
тФВ   тФЬтФАтФА rev*.dat        # Undo рдбреЗрдЯрд╛
тФВ   тФФтФАтФА index/          # рдмреНрд▓реЙрдХ рдЗрдВрдбреЗрдХреНрд╕ (LevelDB)
тФЬтФАтФА chainstate/         # UTXO рд╕реЗрдЯ + рдлреЛрд░реНрдЬрд┐рдВрдЧ рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ (LevelDB)
тФЬтФАтФА wallets/            # рд╡реЙрд▓реЗрдЯ рдлрд╝рд╛рдЗрд▓реЗрдВ
тФВ   тФФтФАтФА wallet.dat      # рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╡реЙрд▓реЗрдЯ
тФЬтФАтФА bitcoin.conf        # рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓
тФЬтФАтФА debug.log           # рдбреАрдмрдЧ рд▓реЙрдЧ
тФЬтФАтФА peers.dat           # Peer рдкрддреЗ
тФЬтФАтФА mempool.dat         # Mempool persistence
тФФтФАтФА banlist.dat         # рдкреНрд░рддрд┐рдмрдВрдзрд┐рдд peers
```

### Bitcoin рд╕реЗ рдореБрдЦреНрдп рдЕрдВрддрд░

**Chainstate рдбреЗрдЯрд╛рдмреЗрд╕**:
- рдорд╛рдирдХ: UTXO рд╕реЗрдЯ
- **PoCX рдЬреЛрдбрд╝**: рдлреЛрд░реНрдЬрд┐рдВрдЧ рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ рд╕реНрдерд┐рддрд┐
- рдкрд░рдорд╛рдгреБ рдЕрдкрдбреЗрдЯ: UTXO + рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ рдПрдХ рд╕рд╛рде рдЕрдкрдбреЗрдЯ
- рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ рдХреЗ рд▓рд┐рдП Reorg-рд╕реБрд░рдХреНрд╖рд┐рдд undo рдбреЗрдЯрд╛

**рдмреНрд▓реЙрдХ рдлрд╝рд╛рдЗрд▓реЗрдВ**:
- рдорд╛рдирдХ Bitcoin рдмреНрд▓реЙрдХ рдкреНрд░рд╛рд░реВрдк
- **PoCX рдЬреЛрдбрд╝**: PoCX рдкреНрд░рдорд╛рдг рдлрд╝реАрд▓реНрдб рдХреЗ рд╕рд╛рде рд╡рд┐рд╕реНрддрд╛рд░рд┐рдд (account_id, seed, nonce, signature, pubkey)

### рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓ рдЙрджрд╛рд╣рд░рдг

**bitcoin.conf**:
```ini
# рдиреЗрдЯрд╡рд░реНрдХ рдЪрдпрди
#testnet=1
#regtest=1

# PoCX рдорд╛рдЗрдирд┐рдВрдЧ рд╕рд░реНрд╡рд░ (рдмрд╛рд╣рд░реА рдорд╛рдЗрдирд░реНрд╕ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ)
miningserver=1

# RPC рд╕реЗрдЯрд┐рдВрдЧреНрд╕
server=1
rpcuser=yourusername
rpcpassword=yourpassword
rpcallowip=127.0.0.1
rpcport=8332

# рдХрдиреЗрдХреНрд╢рди рд╕реЗрдЯрд┐рдВрдЧреНрд╕
listen=1
port=8888
maxconnections=125

# рдмреНрд▓реЙрдХ рд╕рдордп рд▓рдХреНрд╖реНрдп (рд╕реВрдЪрдирд╛рддреНрдордХ, рд╕рд╣рдорддрд┐ рджреНрд╡рд╛рд░рд╛ рд▓рд╛рдЧреВ)
# mainnet/testnet рдХреЗ рд▓рд┐рдП 120 рд╕реЗрдХрдВрдб
```

---

## рдХреЛрдб рд╕рдВрджрд░реНрдн

**Chainparams**: `src/kernel/chainparams.cpp`
**рд╕рд╣рдорддрд┐ рдкреИрд░рд╛рдореАрдЯрд░**: `src/consensus/params.h`
**Compression рд╕реАрдорд╛рдПрдВ**: `src/pocx/algorithms/algorithms.h`, `src/pocx/consensus/params.cpp`
**Genesis Base Target рдЧрдгрдирд╛**: `src/pocx/consensus/params.cpp`
**Coinbase рднреБрдЧрддрд╛рди рд▓реЙрдЬрд┐рдХ**: `src/pocx/mining/scheduler.cpp:ForgeBlock()`
**рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ рд╕реНрдерд┐рддрд┐ рд╕реНрдЯреЛрд░реЗрдЬ**: `src/coins.h`, `src/coins.cpp` (CCoinsViewCache рдПрдХреНрд╕рдЯреЗрдВрд╢рди)

---

## рдХреНрд░реЙрд╕-рд░реЗрдлрд░реЗрдВрд╕

рд╕рдВрдмрдВрдзрд┐рдд рдЕрдзреНрдпрд╛рдп:
- [рдЕрдзреНрдпрд╛рдп 2: Plot рдкреНрд░рд╛рд░реВрдк](2-plot-format.md) - Plot рдЬрдирд░реЗрд╢рди рдореЗрдВ рд╕реНрдХреЗрд▓рд┐рдВрдЧ рд╕реНрддрд░
- [рдЕрдзреНрдпрд╛рдп 3: рд╕рд╣рдорддрд┐ рдФрд░ рдорд╛рдЗрдирд┐рдВрдЧ](3-consensus-and-mining.md) - рд╕реНрдХреЗрд▓рд┐рдВрдЧ рд╕рддреНрдпрд╛рдкрди, рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ рд╕рд┐рд╕реНрдЯрдо
- [рдЕрдзреНрдпрд╛рдп 4: рдлреЛрд░реНрдЬрд┐рдВрдЧ рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ](4-forging-assignments.md) - рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ рд╡рд┐рд▓рдВрдм рдкреИрд░рд╛рдореАрдЯрд░
- [рдЕрдзреНрдпрд╛рдп 5: рд╕рдордп рд╕реБрд░рдХреНрд╖рд╛](5-timing-security.md) - MAX_FUTURE_BLOCK_TIME рддрд░реНрдХ

---

[тЖР рдкрд┐рдЫрд▓рд╛: рд╕рдордп рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝реЗрд╢рди](5-timing-security.md) | [ЁЯУШ рд╡рд┐рд╖рдп-рд╕реВрдЪреА](index.md) | [рдЕрдЧрд▓рд╛: RPC рд╕рдВрджрд░реНрдн тЖТ](7-rpc-reference.md)
